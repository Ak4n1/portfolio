import{a as c}from"./chunk-MQB6D6E4.js";import{d as l}from"./chunk-AB3PYKT6.js";import{U as a,_ as p,q as s,u as n}from"./chunk-GWDYAHF2.js";var r=c.apiBaseUrl,m=15e3,u=class o{http=p(l);list(e=!0){return this.http.get(`${r}/api/projects?visibleOnly=${e}`,{withCredentials:!0})}getById(e){if(console.log("[ProjectService] getById called, id:",e),!e||isNaN(e)||e<1)return console.warn("[ProjectService] getById: ID inv\xE1lido"),s(()=>({error:{message:"ID de proyecto inv\xE1lido"}}));let t=`${r}/api/projects/${e}`;return console.log("[ProjectService] getById fetching:",t),this.http.get(t,{withCredentials:!0}).pipe(n(m))}create(e){return this.http.post(`${r}/api/projects`,e,{withCredentials:!0})}update(e,t){return this.http.put(`${r}/api/projects/${e}`,t,{withCredentials:!0})}delete(e){return this.http.delete(`${r}/api/projects/${e}`,{withCredentials:!0})}uploadImage(e,t){let i=new FormData;return i.append("file",t),this.http.post(`${r}/api/projects/${e}/images`,i,{withCredentials:!0})}deleteImage(e,t){return this.http.delete(`${r}/api/projects/${e}/images/${t}`,{withCredentials:!0})}setPrimaryImage(e,t){return this.http.patch(`${r}/api/projects/${e}/images/${t}/primary`,{},{withCredentials:!0})}getImageUrl(e){return e?e.startsWith("http")?e:`${r}${e.startsWith("/")?"":"/"}${e}`:""}toggleLike(e){return this.http.post(`${r}/api/projects/${e}/like`,{},{withCredentials:!0})}getLikeStatus(e){return this.http.get(`${r}/api/projects/${e}/like/status`,{withCredentials:!0})}static \u0275fac=function(t){return new(t||o)};static \u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"})};export{u as a};
