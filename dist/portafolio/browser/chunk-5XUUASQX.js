import{c as oe}from"./chunk-YXKQK6M5.js";import{a as R}from"./chunk-MQB6D6E4.js";import{a as re}from"./chunk-FPODQQ4Y.js";import{g as ae}from"./chunk-IBUNDTLB.js";import"./chunk-46EHWJZL.js";import{d as V}from"./chunk-AB3PYKT6.js";import{q as ne,s as ie}from"./chunk-L3SKP5V6.js";import{$b as te,Ab as f,D as C,Eb as q,Ib as w,Jb as d,Qa as K,Rb as r,Sb as u,Tb as Y,U as F,Ua as l,Vb as ee,_ as P,a as $,b as j,bc as I,cb as Q,dc as z,fa as A,ga as B,ha as N,hb as _,ia as J,ob as X,oc as k,p as h,pb as S,qb as H,rb as M,tb as b,ua as g,wb as v,xb as x,yb as i,zb as a}from"./chunk-GWDYAHF2.js";var O=R.apiBaseUrl,L=class n{http=P(V);getTrafficOverview(e="7d"){return this.http.get(`${O}/api/analytics/traffic/overview`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h(this.getFallbackOverview())))}getTrafficTimeSeries(e="7d"){return this.http.get(`${O}/api/analytics/traffic/series`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h(this.getFallbackSeries())))}getFallbackOverview(){return{uniqueVisitors:0,totalSessions:0,pageViews:0,bounceRate:0,avgSessionDurationSeconds:0,topPages:[]}}getFallbackSeries(){return[]}getSessionsByHour(e="7d"){return this.http.get(`${O}/api/analytics/traffic/by-hour`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h([])))}getTrafficBySource(e="7d"){return this.http.get(`${O}/api/analytics/traffic/by-source`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h([])))}getTrafficByCountry(e="7d"){return this.http.get(`${O}/api/analytics/traffic/by-country`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h([])))}getTrafficByDevice(e="7d"){return this.http.get(`${O}/api/analytics/traffic/by-device`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h([])))}getTrafficByBrowser(e="7d"){return this.http.get(`${O}/api/analytics/traffic/by-browser`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h([])))}getTrafficByOs(e="7d"){return this.http.get(`${O}/api/analytics/traffic/by-os`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h([])))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var W=R.apiBaseUrl,G=class n{http=P(V);getTopProjects(e="7d"){return this.http.get(`${W}/api/analytics/projects/top`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h([])))}getClickEvents(e="7d"){return this.http.get(`${W}/api/analytics/events/clicks`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h({clickContactEmail:0,clickContactLinkedin:0,clickCtaProjects:0,clickCtaContact:0,clickProjectCard:0,clickSocial:0,contactFormAbandoned:0,clickDownloadCv:0})))}getScrollCompletions(e="7d"){return this.http.get(`${W}/api/analytics/projects/scroll-completions`,{params:{period:e},withCredentials:!0}).pipe(C(()=>h(0)))}getProjectViews(e,t="7d"){return this.http.get(`${W}/api/analytics/projects/${e}/views`,{params:{period:t},withCredentials:!0}).pipe(C(()=>h(0)))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var fe=n=>["/dashboard/projects",n],E=(n,e)=>e.label,ue=(n,e)=>e.path,_e=(n,e)=>e.projectId;function be(n,e){n&1&&(i(0,"div",10)(1,"div",11),f(2,"div",12),i(3,"span",13),r(4,"Cargando anal\xEDticas"),a(),i(5,"div",14),f(6,"span")(7,"span")(8,"span")(9,"span")(10,"span"),a()()())}function he(n,e){if(n&1&&f(0,"canvas",26),n&2){let t=d(2);S("data",t.lineChartData())("options",t.chartOptions)}}function Ce(n,e){n&1&&(i(0,"p",27),r(1,"Sin datos de tr\xE1fico para el per\xEDodo."),a())}function ve(n,e){if(n&1){let t=q();N(),i(0,"path",57),w("mouseenter",function(){let c=A(t).$implicit,m=d(3);return B(m.hoveredSegment.set(c.label))})("mouseleave",function(){A(t);let c=d(3);return B(c.hoveredSegment.set(null))})("click",function(){let c=A(t).$implicit,m=d(3);return B(m.toggleSegment(c.label))}),a()}if(n&2){let t=e.$implicit,o=d(3);M("donut-segment-disabled",o.disabledSegments().has(t.label)),X("d",t.path)("fill",o.disabledSegments().has(t.label)?"rgba(100,100,100,0.3)":t.color)}}function xe(n,e){if(n&1&&(i(0,"span"),r(1),I(2,"number"),a()),n&2){let t=d().$implicit;l(),ee("",t.label,": ",t.value," (",z(2,3,t.percent,"1.1-1"),"%)")}}function ye(n,e){if(n&1&&_(0,xe,3,6,"span"),n&2){let t=e.$implicit,o=d(4);b(o.hoveredSegment()===t.label?0:-1)}}function Pe(n,e){if(n&1&&(i(0,"div",53),v(1,ye,1,1,null,null,E),a()),n&2){let t=d(3);l(),x(t.donutSegments())}}function Se(n,e){if(n&1){let t=q();i(0,"button",59),w("click",function(){let c=A(t).$implicit,m=d(4);return B(m.toggleSegment(c.label))}),f(1,"span",60),i(2,"span",61),r(3),a()()}if(n&2){let t=e.$implicit,o=d(4);M("donut-legend-disabled",o.disabledSegments().has(t.label)),l(),H("background-color",o.disabledSegments().has(t.label)?"rgba(100,100,100,0.5)":t.color),l(2),u(t.label)}}function Oe(n,e){if(n&1&&(i(0,"div",56),v(1,Se,4,5,"button",58,E),a()),n&2){let t=d(3);l(),x(t.donutSegments())}}function Me(n,e){if(n&1&&(i(0,"div",50),N(),i(1,"svg",51),v(2,ve,1,4,":svg:path",52,E),a(),_(4,Pe,3,0,"div",53),J(),i(5,"div",54)(6,"span",55),r(7),a()()(),_(8,Oe,3,0,"div",56)),n&2){let t=d(2);l(2),x(t.donutSegments()),l(2),b(t.hoveredSegment()?4:-1),l(3),u(t.totalClicks()),l(),b(t.donutSegments().length?8:-1)}}function we(n,e){n&1&&(i(0,"p",27),r(1,"Sin eventos a\xFAn."),a())}function ke(n,e){if(n&1&&f(0,"canvas",36),n&2){let t=d(2);S("data",t.toDonutChartData(t.trafficBySource()))("options",t.donutChartOptions)}}function Ee(n,e){n&1&&(i(0,"p",27),r(1,"Sin datos."),a())}function Te(n,e){if(n&1&&f(0,"canvas",36),n&2){let t=d(2);S("data",t.toDonutChartData(t.trafficByCountry(),6))("options",t.donutChartOptions)}}function De(n,e){n&1&&(i(0,"p",27),r(1,"Sin datos."),a())}function Ae(n,e){if(n&1&&f(0,"div",65),n&2){let t=e.$implicit,o=d(3);H("height",o.barPercent(t.value,o.sessionsByHour()),"%"),S("title",t.label+": "+t.value)}}function Be(n,e){if(n&1&&(i(0,"div",62),v(1,Ae,1,3,"div",63,E),a(),i(3,"div",64)(4,"span"),r(5,"0h"),a(),i(6,"span"),r(7,"12h"),a(),i(8,"span"),r(9,"23h"),a()()),n&2){let t=d(2);l(),x(t.sessionsByHour())}}function He(n,e){n&1&&(i(0,"p",27),r(1,"Sin datos."),a())}function $e(n,e){if(n&1&&f(0,"canvas",36),n&2){let t=d(2);S("data",t.toDonutChartData(t.trafficByDevice()))("options",t.donutChartOptions)}}function je(n,e){n&1&&(i(0,"p",27),r(1,"Sin datos."),a())}function Fe(n,e){if(n&1&&(i(0,"div",66)(1,"span",67),r(2),a(),i(3,"div",68),f(4,"div",69),a(),i(5,"span",70),r(6),a()()),n&2){let t=e.$implicit,o=d(3);l(2),u(t.label),l(2),H("width",o.barPercent(t.value,o.trafficByBrowser()),"%"),l(2),u(t.value)}}function Ie(n,e){if(n&1&&v(0,Fe,7,4,"div",66,E),n&2){let t=d(2);x(t.trafficByBrowser())}}function ze(n,e){n&1&&(i(0,"p",27),r(1,"Sin datos."),a())}function Ve(n,e){if(n&1&&(i(0,"div",66)(1,"span",67),r(2),a(),i(3,"div",68),f(4,"div",69),a(),i(5,"span",70),r(6),a()()),n&2){let t=e.$implicit,o=d(3);l(2),u(t.label),l(2),H("width",o.barPercent(t.value,o.trafficByOs()),"%"),l(2),u(t.value)}}function Re(n,e){if(n&1&&v(0,Ve,7,4,"div",66,E),n&2){let t=d(2);x(t.trafficByOs())}}function Le(n,e){n&1&&(i(0,"p",27),r(1,"Sin datos."),a())}function We(n,e){if(n&1&&(i(0,"tr")(1,"td",72),r(2),a(),i(3,"td",71),r(4),a(),i(5,"td",73),r(6),I(7,"number"),a()()),n&2){let t=e.$implicit;l(2),u(t.path),l(2),u(t.views),l(2),Y("",z(7,3,t.percent,"1.1-1"),"%")}}function Ge(n,e){if(n&1&&(i(0,"table",46)(1,"thead")(2,"tr")(3,"th"),r(4,"Ruta"),a(),i(5,"th",71),r(6,"Vistas"),a(),i(7,"th",71),r(8,"%"),a()()(),i(9,"tbody"),v(10,We,8,6,"tr",null,ue),a()()),n&2){let t=d(2);l(10),x(t.topPagesWithPercent())}}function Ue(n,e){n&1&&(i(0,"p",47),r(1,"Sin datos a\xFAn. Los datos vienen de GA4."),a())}function Ne(n,e){if(n&1&&(i(0,"tr")(1,"td"),r(2),a(),i(3,"td",71),r(4),a(),i(5,"td",71)(6,"a",74),r(7,"Ver proyecto"),a()()()),n&2){let t=e.$implicit;l(2),u(t.title),l(2),u(t.views),l(2),S("routerLink",te(3,fe,t.projectId))}}function qe(n,e){if(n&1&&(i(0,"table",46)(1,"thead")(2,"tr")(3,"th"),r(4,"Proyecto"),a(),i(5,"th",71),r(6,"Vistas"),a(),i(7,"th",71),r(8,"Ver"),a()()(),i(9,"tbody"),v(10,Ne,8,5,"tr",null,_e),a()()),n&2){let t=d(2);l(10),x(t.projectsWithInterest())}}function Ye(n,e){n&1&&(i(0,"p",47),r(1,"Sin proyectos a\xFAn."),a())}function Ze(n,e){if(n&1&&(i(0,"section",15)(1,"div",16)(2,"div",17)(3,"span",18),r(4,"Visitantes"),a(),i(5,"span",19),r(6,"person"),a()(),i(7,"div",20),r(8),a()(),i(9,"div",16)(10,"div",17)(11,"span",18),r(12,"Sesiones"),a(),i(13,"span",19),r(14,"touch_app"),a()(),i(15,"div",20),r(16),a()(),i(17,"div",16)(18,"div",17)(19,"span",18),r(20,"Vistas"),a(),i(21,"span",19),r(22,"web"),a()(),i(23,"div",20),r(24),a()(),i(25,"div",16)(26,"div",17)(27,"span",18),r(28,"Rebote"),a(),i(29,"span",19),r(30,"trending_down"),a()(),i(31,"div",20),r(32),I(33,"number"),a()(),i(34,"div",16)(35,"div",17)(36,"span",18),r(37,"Tiempo medio"),a(),i(38,"span",19),r(39,"schedule"),a()(),i(40,"div",20),r(41),a()(),i(42,"div",16)(43,"div",17)(44,"span",18),r(45,"Scroll final"),a(),i(46,"span",19),r(47,"expand_more"),a()(),i(48,"div",20),r(49),a()()(),i(50,"section",21)(51,"div",22)(52,"h3",23),f(53,"span",24),r(54,"Tr\xE1fico por d\xEDa"),a(),i(55,"div",25),_(56,he,1,2,"canvas",26)(57,Ce,2,0,"p",27),a()(),i(58,"div",28)(59,"h3",23),f(60,"span",24),r(61,"Clicks y acciones"),a(),i(62,"div",29),_(63,Me,9,3)(64,we,2,0,"p",27),a()()(),i(65,"section",21)(66,"div",30)(67,"h3",23),f(68,"span",24),r(69,"Origen y contexto"),a(),i(70,"div",31)(71,"div",32)(72,"div",33)(73,"h4",34),r(74,"Origen del tr\xE1fico"),a(),i(75,"div",35),_(76,ke,1,2,"canvas",36)(77,Ee,2,0,"p",27),a()(),i(78,"div",33)(79,"h4",34),r(80,"Pa\xEDs / regi\xF3n"),a(),i(81,"div",35),_(82,Te,1,2,"canvas",36)(83,De,2,0,"p",27),a()()(),i(84,"div",37)(85,"h4",34),r(86,"Horarios pico"),a(),i(87,"div",38),_(88,Be,10,0)(89,He,2,0,"p",27),a()()()(),i(90,"div",39)(91,"h3",23),f(92,"span",24),r(93,"Dispositivo y tecnolog\xEDa"),a(),i(94,"div",31)(95,"div",33)(96,"h4",34),r(97,"Dispositivo"),a(),i(98,"div",35),_(99,$e,1,2,"canvas",36)(100,je,2,0,"p",27),a()(),i(101,"div",37)(102,"h4",34),r(103,"Navegador"),a(),i(104,"div",40),_(105,Ie,2,0)(106,ze,2,0,"p",27),a()(),i(107,"div",37)(108,"h4",34),r(109,"Sistema operativo"),a(),i(110,"div",40),_(111,Re,2,0)(112,Le,2,0,"p",27),a()()()()(),i(113,"section",41)(114,"div",42)(115,"div",43)(116,"h3",44),r(117,"P\xE1ginas m\xE1s visitadas"),a()(),i(118,"div",45),_(119,Ge,12,0,"table",46)(120,Ue,2,0,"p",47),a()(),i(121,"div",42)(122,"div",43)(123,"h3",44),r(124,"Proyectos destacados"),a()(),i(125,"div",45),_(126,qe,12,0,"table",46)(127,Ye,2,0,"p",47),a()()(),i(128,"footer",48),f(129,"span",49),r(130," Sistema conectado \xB7 Datos de GA4 "),a()),n&2){let t,o,c,m,p,s=d();l(8),u((t=(t=s.overview())==null?null:t.uniqueVisitors)!==null&&t!==void 0?t:0),l(8),u((o=(o=s.overview())==null?null:o.totalSessions)!==null&&o!==void 0?o:0),l(8),u((c=(c=s.overview())==null?null:c.pageViews)!==null&&c!==void 0?c:0),l(8),Y("",z(33,16,(m=(m=s.overview())==null?null:m.bounceRate)!==null&&m!==void 0?m:0,"1.1-1"),"%"),l(9),u(s.formatDuration((p=(p=s.overview())==null?null:p.avgSessionDurationSeconds)!==null&&p!==void 0?p:0)),l(8),u(s.scrollCompletions()),l(7),b(s.lineChartData().labels.length?56:57),l(7),b(s.totalClicks()>0?63:64),l(13),b(s.trafficBySource().length?76:77),l(6),b(s.trafficByCountry().length?82:83),l(6),b(s.sessionsByHour().length?88:89),l(11),b(s.trafficByDevice().length?99:100),l(6),b(s.trafficByBrowser().length?105:106),l(6),b(s.trafficByOs().length?111:112),l(8),b(s.topPagesWithPercent().length?119:120),l(7),b(s.projectsWithInterest().length?126:127)}}var ce=class n{trafficService=P(L);contentService=P(G);analyticsService=P(re);overview=g(null);trafficSeries=g([]);topProjects=g([]);scrollCompletions=g(0);clickEvents=g(null);sessionsByHour=g([]);trafficBySource=g([]);trafficByCountry=g([]);trafficByDevice=g([]);trafficByBrowser=g([]);trafficByOs=g([]);period=g("7d");loading=g(!0);ga4Url=this.analyticsService.getGoogleAnalyticsUrl();lineChartData=k(()=>{let e=this.trafficSeries();return e.length?{labels:e.map(o=>this.formatDateShort(o.date)),datasets:[{data:e.map(o=>o.pageViews),label:"P\xE1ginas vistas",borderColor:"rgb(2, 163, 126)",backgroundColor:"rgba(2, 163, 126, 0.2)"},{data:e.map(o=>o.sessions),label:"Sesiones",borderColor:"rgba(2, 163, 126, 0.5)",borderDash:[4],backgroundColor:"transparent"}]}:{labels:[],datasets:[]}});disabledSegments=g(new Set);hoveredSegment=g(null);donutSegments=k(()=>{let e=this.clickEvents(),t=this.disabledSegments();if(!e)return[];let o=[{label:"CTA Proyectos",value:e.clickCtaProjects},{label:"CTA Contacto",value:e.clickCtaContact},{label:"Tarjeta proyecto",value:e.clickProjectCard},{label:"Redes sociales",value:e.clickSocial},{label:"Email/LinkedIn",value:e.clickContactEmail+e.clickContactLinkedin},{label:"Abandono form.",value:e.contactFormAbandoned},{label:"Descargar CV",value:e.clickDownloadCv}],c=o.reduce((s,y)=>s+y.value,0);if(c===0)return[];let m=["rgb(2, 163, 126)","rgba(2, 163, 126, 0.85)","rgba(2, 163, 126, 0.7)","rgba(2, 163, 126, 0.55)","rgba(2, 163, 126, 0.4)","rgba(2, 163, 126, 0.3)","rgba(2, 163, 126, 0.2)"],p=0;return o.filter(s=>s.value>0).map((s,y)=>{let T=s.value/c*100,D=p;p+=T;let U=this.arcPath(D,p);return j($({},s),{percent:T,color:m[y%m.length],from:D,to:p,path:U})})});arcPath(e,t){let s=(e/100*360-90)*Math.PI/180,y=(t/100*360-90)*Math.PI/180,T=70+28*Math.cos(s),D=70+28*Math.sin(s),U=70+65*Math.cos(s),se=70+65*Math.sin(s),de=70+65*Math.cos(y),me=70+65*Math.sin(y),pe=70+28*Math.cos(y),ge=70+28*Math.sin(y),Z=t-e>50?1:0;return`M ${T} ${D} L ${U} ${se} A 65 65 0 ${Z} 1 ${de} ${me} L ${pe} ${ge} A 28 28 0 ${Z} 0 ${T} ${D} Z`}toggleSegment(e){this.disabledSegments.update(t=>{let o=new Set(t);return o.has(e)?o.delete(e):o.add(e),o})}totalClicks=k(()=>{let e=this.clickEvents();return e?e.clickCtaProjects+e.clickCtaContact+e.clickProjectCard+e.clickSocial+(e.clickContactEmail+e.clickContactLinkedin)+e.contactFormAbandoned+e.clickDownloadCv:0});topPagesWithPercent=k(()=>{let e=this.overview();if(!e?.topPages?.length)return[];let t=e.topPages.reduce((o,c)=>o+c.views,0);return e.topPages.map(o=>j($({},o),{percent:t>0?o.views/t*100:0}))});projectsWithInterest=k(()=>{let e=this.topProjects();if(!e.length)return[];let t=Math.max(...e.map(o=>o.views),1);return e.map(o=>j($({},o),{level:t>0?Math.ceil(o.views/t*5):0}))});chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#e2e8f0"}}},scales:{x:{ticks:{color:"#94a3b8",maxTicksLimit:12},grid:{color:"rgba(148,163,184,0.1)"}},y:{ticks:{color:"#94a3b8"},grid:{color:"rgba(148,163,184,0.1)"}}}};barChartOptions={responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{ticks:{color:"#94a3b8"},grid:{color:"rgba(148,163,184,0.1)"}},y:{ticks:{color:"#94a3b8",font:{size:11}},grid:{display:!1}}}};barChartOptionsVertical={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{ticks:{color:"#94a3b8",maxTicksLimit:24},grid:{color:"rgba(148,163,184,0.1)"}},y:{ticks:{color:"#94a3b8"},grid:{color:"rgba(148,163,184,0.1)"}}}};toBarChartData(e){return{labels:e.map(o=>o.label),datasets:[{data:e.map(o=>o.value),label:"",backgroundColor:"rgba(2, 163, 126, 0.8)"}]}}barPercent(e,t){if(!t?.length||e<=0)return 0;let o=Math.max(...t.map(m=>m.value),1),c=e/o*100;return c<2&&e>0?2:Math.round(c)}toDonutChartData(e,t){let c=(t?e.slice(0,t):e).filter(p=>p.value>0);if(!c.length)return{labels:[],datasets:[{data:[],backgroundColor:[]}]};let m=["rgb(2, 163, 126)","rgba(2, 163, 126, 0.85)","rgba(2, 163, 126, 0.7)","rgba(2, 163, 126, 0.55)","rgba(2, 163, 126, 0.4)","rgba(2, 163, 126, 0.3)"];return{labels:c.map(p=>p.label),datasets:[{data:c.map(p=>p.value),backgroundColor:c.map((p,s)=>m[s%m.length]),borderWidth:0,hoverOffset:4}]}}donutChartOptions={responsive:!0,maintainAspectRatio:!1,cutout:"65%",plugins:{legend:{position:"bottom",labels:{color:"#94a3b8",font:{size:10},padding:8}}}};ngOnInit(){this.loadData()}setPeriod(e){this.period.set(e),this.disabledSegments.set(new Set),this.loadData()}loadData(){this.loading.set(!0);let e=this.period();this.trafficService.getTrafficOverview(e).subscribe({next:t=>{this.overview.set(t),this.loading.set(!1)},error:()=>this.loading.set(!1)}),this.contentService.getTopProjects(e).subscribe({next:t=>this.topProjects.set(t)}),this.contentService.getScrollCompletions(e).subscribe({next:t=>this.scrollCompletions.set(t)}),this.contentService.getClickEvents(e).subscribe({next:t=>this.clickEvents.set(t)}),this.trafficService.getTrafficTimeSeries(e).subscribe({next:t=>this.trafficSeries.set(t)}),this.trafficService.getSessionsByHour(e).subscribe({next:t=>this.sessionsByHour.set(t)}),this.trafficService.getTrafficBySource(e).subscribe({next:t=>this.trafficBySource.set(t)}),this.trafficService.getTrafficByCountry(e).subscribe({next:t=>this.trafficByCountry.set(t)}),this.trafficService.getTrafficByDevice(e).subscribe({next:t=>this.trafficByDevice.set(t)}),this.trafficService.getTrafficByBrowser(e).subscribe({next:t=>this.trafficByBrowser.set(t)}),this.trafficService.getTrafficByOs(e).subscribe({next:t=>this.trafficByOs.set(t)})}formatDateShort(e){if(!e)return"";let t=e.replace(/-/g,"");if(t.length>=8){let c=t.slice(6,8),m=t.slice(4,6);return`${c}/${m}`}let o=new Date(e+"T12:00:00");return isNaN(o.getTime())?e:`${String(o.getDate()).padStart(2,"0")}/${String(o.getMonth()+1).padStart(2,"0")}`}formatDuration(e){if(e<60)return`${Math.round(e)}s`;let t=Math.floor(e/60),o=Math.round(e%60);return o>0?`${t}m ${o}s`:`${t}m`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Q({type:n,selectors:[["app-dashboard-admin-home"]],decls:21,vars:8,consts:[[1,"analytics-page","stitch-layout"],[1,"analytics-header","stitch-header"],[1,"header-left"],[1,"title-accent"],[1,"title-main"],[1,"header-right"],[1,"period-selector"],[3,"click"],["target","_blank","rel","noopener",1,"btn-ga",3,"href"],[1,"material-symbols-outlined","icon-sm"],[1,"analytics-loading"],[1,"loading-card"],[1,"loading-spinner"],[1,"loading-text"],[1,"loading-bars"],[1,"metric-cards"],[1,"cyber-card","metric-card"],[1,"card-top"],[1,"card-label"],[1,"material-symbols-outlined","card-icon"],[1,"card-value"],[1,"charts-row"],[1,"cyber-card","chart-card","chart-line"],[1,"chart-title"],[1,"chart-dot"],[1,"chart-container"],["baseChart","","type","line",3,"data","options"],[1,"chart-empty"],[1,"cyber-card","chart-card","chart-donut"],[1,"donut-wrapper"],[1,"cyber-card","chart-card","chart-context"],[1,"bar-charts-stack"],[1,"donuts-row"],[1,"mini-bar-block","mini-donut-block"],[1,"mini-bar-title"],[1,"mini-donut-wrap"],["baseChart","","type","doughnut",3,"data","options"],[1,"mini-bar-block"],[1,"bar-chart-vertical-wrap"],[1,"cyber-card","chart-card","chart-tech"],[1,"bar-chart-horizontal"],[1,"tables-row"],[1,"cyber-card","table-card"],[1,"table-header"],[1,"table-title"],[1,"table-scroll"],[1,"data-table"],[1,"table-empty"],[1,"analytics-footer"],[1,"status-dot"],[1,"donut-chart-box"],["viewBox","0 0 140 140",1,"donut-svg"],[3,"donut-segment-disabled"],[1,"donut-tooltip"],[1,"donut-center"],[1,"donut-total"],[1,"donut-legend"],[3,"mouseenter","mouseleave","click"],["type","button",1,"donut-legend-item",3,"donut-legend-disabled"],["type","button",1,"donut-legend-item",3,"click"],[1,"donut-legend-dot"],[1,"donut-legend-label"],[1,"bar-chart-vertical"],[1,"bar-col",3,"height","title"],[1,"bar-chart-vertical-labels"],[1,"bar-col",3,"title"],[1,"bar-row"],[1,"bar-label"],[1,"bar-track"],[1,"bar-fill"],[1,"bar-value"],[1,"text-right"],[1,"path-cell"],[1,"text-right","accent"],[1,"link",3,"routerLink"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"header",1)(2,"div",2)(3,"span",3),r(4,"/"),a(),i(5,"h1",4),r(6,"Inicio"),a()(),i(7,"div",5)(8,"div",6)(9,"button",7),w("click",function(){return o.setPeriod("7d")}),r(10,"7d"),a(),i(11,"button",7),w("click",function(){return o.setPeriod("14d")}),r(12,"14d"),a(),i(13,"button",7),w("click",function(){return o.setPeriod("30d")}),r(14,"30d"),a()(),i(15,"a",8),r(16," Ver en Google Analytics "),i(17,"span",9),r(18,"open_in_new"),a()()()(),_(19,be,11,0,"div",10)(20,Ze,131,19),a()),t&2&&(l(9),M("active",o.period()==="7d"),l(2),M("active",o.period()==="14d"),l(2),M("active",o.period()==="30d"),l(2),S("href",o.ga4Url,K),l(4),b(o.loading()?19:20))},dependencies:[ie,ne,ae,oe],styles:[".analytics-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--spacing-md);margin:0 auto;color:var(--color-text-primary);background-color:var(--background-dark);min-height:100vh;width:100%}@media (min-width: 768px){.analytics-page[_ngcontent-%COMP%]{padding:var(--spacing-xl)}}.analytics-loading[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;min-height:20rem;padding:var(--spacing-2xl)}.loading-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.25rem;padding:2.5rem 3rem}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(2,163,126,.2);border-top-color:var(--color-primary);border-radius:50%;animation:_ngcontent-%COMP%_spin-loading .8s linear infinite;display:none}.loading-text[_ngcontent-%COMP%]{font-family:Fira Code,monospace;font-size:.8125rem;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.08em}.loading-bars[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:4px;height:20px}.loading-bars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:4px;min-height:6px;background:var(--color-primary);border-radius:2px;animation:_ngcontent-%COMP%_loading-bar .6s ease-in-out infinite alternate}.loading-bars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.loading-bars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.loading-bars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s}.loading-bars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){animation-delay:.3s}.loading-bars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){animation-delay:.4s}@keyframes _ngcontent-%COMP%_spin-loading{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_loading-bar{0%{height:6px;opacity:.5}to{height:20px;opacity:1}}.analytics-page[_ngcontent-%COMP%]   .cyber-card[_ngcontent-%COMP%]{background:#1a1a1ab3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(2,163,126,.2);border-radius:8px;transition:all .3s ease}.analytics-page[_ngcontent-%COMP%]   .cyber-card[_ngcontent-%COMP%]:hover{border-color:#02a37e;box-shadow:0 0 15px #02a37e1a}.stitch-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}@media (min-width: 768px){.stitch-header[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.title-accent[_ngcontent-%COMP%]{color:var(--color-primary);font-family:Fira Code,monospace;font-size:1.5rem;font-weight:700}.title-main[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,1.875rem);font-weight:700;letter-spacing:-.02em;margin:0;color:var(--color-text-primary)}.header-right[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem}.period-selector[_ngcontent-%COMP%]{display:flex;padding:.25rem;background:#1a1a1a;border-radius:.5rem;border:1px solid rgba(255,255,255,.05);font-family:Fira Code,monospace;font-size:.75rem}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background:transparent;border:none;border-radius:.25rem;color:var(--color-text-secondary);cursor:pointer;transition:all .2s}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--color-text-primary)}.period-selector[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#02a37e;color:#0f0f0f}.btn-ga[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1.5rem;border:1px solid rgb(2,163,126);border-radius:.25rem;color:#02a37e;font-weight:600;font-size:.875rem;text-decoration:none;transition:all .2s}.btn-ga[_ngcontent-%COMP%]:hover{background:#02a37e1a}.icon-sm[_ngcontent-%COMP%]{font-size:1rem}.metric-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);gap:1rem;margin-bottom:2rem}@media (min-width: 640px){.metric-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.metric-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1280px){.metric-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}}.metric-card[_ngcontent-%COMP%]{padding:1.25rem;display:flex;flex-direction:column;justify-content:space-between;min-height:8rem}.card-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.card-label[_ngcontent-%COMP%]{font-size:.75rem;font-family:Fira Code,monospace;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em}.card-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-primary);opacity:.8}.metric-card[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;font-family:Fira Code,monospace;color:var(--color-text-primary)}.charts-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem;margin-bottom:2rem}@media (min-width: 1024px){.charts-row[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr}}.chart-card[_ngcontent-%COMP%]{padding:1.5rem;min-height:20rem}.chart-line[_ngcontent-%COMP%]{min-height:22rem}.chart-title[_ngcontent-%COMP%]{font-size:.875rem;font-family:Fira Code,monospace;color:var(--color-primary);margin:0 0 1.5rem;display:flex;align-items:center;gap:.5rem}.chart-dot[_ngcontent-%COMP%]{width:.5rem;height:.5rem;background:var(--color-primary);border-radius:50%;flex-shrink:0}.chart-container[_ngcontent-%COMP%]{height:16rem;position:relative}.chart-empty[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:.875rem;margin:0;display:flex;align-items:center;justify-content:center;height:100%}.chart-context[_ngcontent-%COMP%], .chart-tech[_ngcontent-%COMP%]{min-height:auto}.bar-charts-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.mini-bar-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.mini-bar-title[_ngcontent-%COMP%]{font-size:.75rem;font-family:Fira Code,monospace;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em;margin:0}.bar-chart-horizontal[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem;min-height:4rem}.bar-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) minmax(4rem,2fr) auto;align-items:center;gap:.5rem}.bar-label[_ngcontent-%COMP%]{font-size:.75rem;font-family:Fira Code,monospace;color:var(--color-text-secondary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bar-track[_ngcontent-%COMP%]{height:.5rem;background:#ffffff0f;border-radius:2px;overflow:hidden}.bar-fill[_ngcontent-%COMP%]{height:100%;min-width:2px;background:#02a37e;border-radius:2px;transition:width .4s ease}.bar-value[_ngcontent-%COMP%]{font-size:.75rem;font-family:Fira Code,monospace;color:var(--color-primary);font-weight:600;min-width:1.5rem;text-align:right}.bar-chart-vertical-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.bar-chart-vertical[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:2px;height:5rem}.bar-col[_ngcontent-%COMP%]{flex:1;min-width:4px;min-height:2px;background:#02a37e;border-radius:2px 2px 0 0;transition:height .3s ease}.bar-chart-vertical-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.625rem;font-family:Fira Code,monospace;color:var(--color-text-secondary);padding:0 .125rem}.donuts-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}@media (max-width: 480px){.donuts-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.mini-donut-block[_ngcontent-%COMP%]{flex:0 0 auto}.mini-donut-wrap[_ngcontent-%COMP%]{height:10rem;position:relative;display:flex;align-items:center;justify-content:center}.mini-donut-wrap[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-height:9rem;max-width:100%}.chart-donut[_ngcontent-%COMP%]{display:flex;flex-direction:column}.chart-donut[_ngcontent-%COMP%]   .donut-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:16rem}.donut-chart-box[_ngcontent-%COMP%]{position:relative;width:14rem;height:14rem;flex-shrink:0;display:flex;align-items:center;justify-content:center}.donut-svg[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:rotate(0)}.donut-svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{cursor:pointer;transition:opacity .2s,filter .2s}.donut-svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:hover{filter:brightness(1.15)}.donut-svg[_ngcontent-%COMP%]   path.donut-segment-disabled[_ngcontent-%COMP%]{cursor:pointer}.donut-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%) translateY(-.5rem);background:#1a1a1af2;border:1px solid rgba(2,163,126,.4);padding:.4rem .75rem;font-size:.75rem;font-family:Fira Code,monospace;color:var(--color-text-primary);border-radius:4px;white-space:nowrap;z-index:3;pointer-events:none}.donut-hole[_ngcontent-%COMP%]{position:absolute;inset:22%;border-radius:50%;background:var(--background-dark);z-index:1}.donut-center[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;z-index:2;margin:0;padding:0}.donut-total[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;font-family:Fira Code,monospace;color:var(--color-text-primary);line-height:1;margin:0;padding:0}.donut-legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.75rem 1.25rem;margin-top:1rem;font-size:.75rem;font-family:Fira Code,monospace}.donut-legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;background:none;border:none;padding:.25rem 0;cursor:pointer;font-size:inherit;font-family:inherit}.donut-legend-item[_ngcontent-%COMP%]:hover{opacity:.85}.donut-legend-item.donut-legend-disabled[_ngcontent-%COMP%]   .donut-legend-label[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}.donut-legend-dot[_ngcontent-%COMP%]{width:.5rem;height:.5rem;border-radius:2px;flex-shrink:0}.donut-legend-label[_ngcontent-%COMP%]{color:var(--color-text-secondary)}.tables-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem;margin-bottom:2rem}@media (min-width: 1024px){.tables-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.table-card[_ngcontent-%COMP%]{overflow:hidden;padding:0}.table-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.05)}.table-title[_ngcontent-%COMP%]{font-size:.875rem;font-family:Fira Code,monospace;color:var(--color-primary);margin:0}.table-scroll[_ngcontent-%COMP%]{overflow-x:auto}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem;font-family:Fira Code,monospace}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:var(--color-text-secondary);border-bottom:1px solid rgba(255,255,255,.05)}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:400;text-align:left}.data-table[_ngcontent-%COMP%]   th.text-right[_ngcontent-%COMP%]{text-align:right}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.05);transition:background .2s}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff0d}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.5rem;color:var(--color-text-primary)}.data-table[_ngcontent-%COMP%]   td.text-right[_ngcontent-%COMP%]{text-align:right}.data-table[_ngcontent-%COMP%]   td.accent[_ngcontent-%COMP%]{color:var(--color-primary)}.path-cell[_ngcontent-%COMP%]{font-family:Fira Code,monospace}.table-empty[_ngcontent-%COMP%]{padding:1.5rem;margin:0;color:var(--color-text-secondary);font-size:.875rem}.link[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-size:.85rem}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.analytics-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.625rem;font-family:Fira Code,monospace;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.03em}.status-dot[_ngcontent-%COMP%]{width:.5rem;height:.5rem;background:var(--color-primary);border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}"]})};export{ce as DashboardAdminHomeComponent};
