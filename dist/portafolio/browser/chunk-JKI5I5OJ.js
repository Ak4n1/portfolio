import{a as S}from"./chunk-BHQHOUID.js";import"./chunk-MQB6D6E4.js";import{d as y,f as E,g as P}from"./chunk-N2ECJDZB.js";import"./chunk-27IFVBVS.js";import"./chunk-SFS47BZX.js";import{s as C}from"./chunk-XPIPXS6X.js";import{Eb as b,Ib as f,Jb as l,Rb as i,Sb as v,Tb as x,Ua as a,_ as m,cb as h,fa as u,ga as p,hb as g,pb as _,tb as s,yb as n,zb as o}from"./chunk-PWGBBCAH.js";function V(e,r){e&1&&(n(0,"p",3),i(1,"\xA1Cuenta creada! Revisa tu correo para verificar."),o())}function O(e,r){e&1&&(n(0,"p",4),i(1,"Tu email no est\xE1 verificado. Para ingresar, verifica primero."),o())}function k(e,r){e&1&&(n(0,"p",3),i(1,"Se ha reenviado el email de verificaci\xF3n."),o())}function w(e,r){if(e&1&&(n(0,"p",7),i(1),o()),e&2){let t=l(2);a(),v(t.resendError)}}function R(e,r){if(e&1){let t=b();n(0,"p",5),i(1,"Hemos enviado un email de verificaci\xF3n a "),n(2,"strong"),i(3),o()(),n(4,"p",6),i(5,"Revisa tu bandeja de entrada y carpeta de spam. Haz clic en el enlace del email."),o(),g(6,k,2,0,"p",3)(7,w,2,1,"p",7),n(8,"div",8)(9,"button",9),f("click",function(){u(t);let d=l();return p(d.resendVerificationEmail())}),i(10),o(),n(11,"button",10),f("click",function(){u(t);let d=l();return p(d.goToLogin())}),i(12,"Ingresar"),o()()}if(e&2){let t=l();a(3),v(t.email),a(3),s(t.resendSuccess?6:-1),a(),s(t.resendError?7:-1),a(2),_("disabled",t.isResending),a(),x(" ",t.isResending?"Enviando...":"Reenviar Email"," ")}}function T(e,r){e&1&&(n(0,"p",5),i(1,"No se recibi\xF3 el email. "),n(2,"a",11),i(3,"Volver al login"),o()())}var M=class e{route=m(y);router=m(E);authService=m(S);email="";isResending=!1;resendSuccess=!1;resendError="";showSuccessMessage=!1;fromLogin=!1;ngOnInit(){this.route.queryParams.subscribe(r=>{this.email=r.email||"",this.fromLogin=r.fromLogin==="true",this.showSuccessMessage=!!this.email&&!this.fromLogin})}resendVerificationEmail(){!this.email||this.isResending||(this.isResending=!0,this.resendSuccess=!1,this.resendError="",this.authService.resendVerification(this.email).subscribe({next:()=>{this.isResending=!1,this.resendSuccess=!0},error:r=>{this.isResending=!1,this.resendError=r.error?.message||"Error al reenviar. Intenta m\xE1s tarde."}}))}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-verify-email-pending"]],decls:8,vars:3,consts:[[1,"auth-page"],[1,"auth-container"],[1,"auth-title"],[1,"auth-success"],[1,"auth-info"],[1,"auth-message"],[1,"auth-hint"],[1,"auth-error"],[1,"auth-actions"],["type","button",1,"btn-secondary",3,"click","disabled"],["type","button",1,"btn-submit",3,"click"],["routerLink","/login"]],template:function(t,c){t&1&&(n(0,"section",0)(1,"div",1)(2,"h2",2),i(3,"Verifica tu email"),o(),g(4,V,2,0,"p",3)(5,O,2,0,"p",4)(6,R,13,5)(7,T,4,0,"p",5),o()()),t&2&&(a(4),s(c.showSuccessMessage?4:-1),a(),s(c.fromLogin?5:-1),a(),s(c.email?6:7))},dependencies:[C,P],styles:[".auth-page[_ngcontent-%COMP%]{min-height:80vh;display:flex;align-items:center;justify-content:center;padding:2rem}.auth-container[_ngcontent-%COMP%]{width:100%;max-width:420px;background:var(--background-card);border:1px solid var(--border-color);border-radius:12px;padding:2rem}.auth-title[_ngcontent-%COMP%]{color:var(--title-primary);font-size:1.5rem;margin-bottom:1rem;text-align:center}.auth-success[_ngcontent-%COMP%]{color:var(--primary-color);font-size:.95rem;margin-bottom:1rem}.auth-info[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95rem;margin-bottom:1rem}.auth-message[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:.5rem}.auth-hint[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;margin-bottom:1.25rem}.auth-error[_ngcontent-%COMP%]{color:var(--error, #e74c3c);font-size:.9rem;margin-bottom:1rem}.auth-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:1.25rem}.btn-secondary[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{flex:1;padding:.6rem 1rem;border-radius:8px;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:1px solid var(--border-color)}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--background-card);border-color:var(--border-hover, var(--border-color))}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-submit[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--background-dark);border:none}.btn-submit[_ngcontent-%COMP%]:hover{filter:brightness(1.1)}"]})};export{M as VerifyEmailPendingComponent};
