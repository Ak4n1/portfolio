import{a as Y}from"./chunk-C5YCVOVN.js";import{a as q,b as U,c as G,d as V,e as W}from"./chunk-5O5RZEKC.js";import{c as j,d as u,e as A,f as z,k as B,m as D,n as L,v as H,x as R}from"./chunk-IGSUT72Y.js";import{b as F,c as I}from"./chunk-4ZIDF6L4.js";import{a as N}from"./chunk-MQB6D6E4.js";import{a as T}from"./chunk-22ZWKH5I.js";import"./chunk-FPODQQ4Y.js";import{f as w}from"./chunk-IBUNDTLB.js";import"./chunk-46EHWJZL.js";import{a as k,d as S}from"./chunk-AB3PYKT6.js";import{k as O,s as P}from"./chunk-L3SKP5V6.js";import{Ab as s,Ib as p,Jb as y,Rb as r,Sa as x,Sb as v,U as _,Ua as c,_ as d,cb as M,hb as g,pb as l,pc as E,rb as b,yb as n,zb as t}from"./chunk-GWDYAHF2.js";var f=class a{http=d(S);apiUrl=`${N.apiBaseUrl}/api/contact`;submit(e){return this.http.post(this.apiUrl,e,{headers:new k({"Content-Type":"application/json"}),withCredentials:!0})}static \u0275fac=function(i){return new(i||a)};static \u0275prov=_({token:a,factory:a.\u0275fac,providedIn:"root"})};function K(a,e){a&1&&(n(0,"span",45),r(1,"Copiado"),t())}function Q(a,e){a&1&&(n(0,"div",46),r(1," El nombre es requerido "),t())}function X(a,e){a&1&&(n(0,"div",46),r(1," Ingresa un email v\xE1lido "),t())}function Z(a,e){a&1&&(n(0,"div",46),r(1," El mensaje es requerido "),t())}function ee(a,e){if(a&1&&(n(0,"p",47),r(1),t()),a&2){let i=y();c(),v(i.submitError)}}function te(a,e){a&1&&(n(0,"span"),r(1,"Enviar Mensaje"),t())}function ne(a,e){a&1&&(n(0,"span"),r(1,"Enviando..."),t())}var $=class a{fb=d(H);contactService=d(f);analyticsEvents=d(T);authStateService=d(I);router=d(w);contactForm;isSubmitting=!1;submitError="";showModal=!1;modalType="success";modalTitle="";modalMessage="";contactEmail="encabojuan@gmail.com";copied=!1;editor=new V({plugins:[W()]});editorToolbar=U;authState=F(this.authStateService.authState,{initialValue:{isAuthenticated:!1,user:null,isLoading:!0}});constructor(){this.contactForm=this.fb.group({name:["",[u.required,u.minLength(2)]],email:["",[u.required,u.email]],subject:[""],message:["",[u.required,u.minLength(10)]]}),E(()=>{let e=this.authState();!e?.isAuthenticated||!e.user||this.prefillContactIdentity(e.user.firstName,e.user.lastName,e.user.email)})}prefillContactIdentity(e,i,o){let m=`${e||""} ${i||""}`.trim(),h=this.contactForm.get("name"),C=this.contactForm.get("email");!String(h?.value??"").trim()&&m&&h?.patchValue(m,{emitEvent:!1}),!String(C?.value??"").trim()&&o&&C?.patchValue(o,{emitEvent:!1})}copyEmail(){this.analyticsEvents.trackClickContactEmail("contact_copy");let e=this.contactEmail;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).then(()=>this.showCopied());else{let i=document.createElement("textarea");i.value=e,document.body.appendChild(i),i.select();try{document.execCommand("copy")}finally{document.body.removeChild(i),this.showCopied()}}}showCopied(){this.copied=!0,setTimeout(()=>this.copied=!1,2e3)}isFieldInvalid(e){let i=this.contactForm.get(e);return i?i.invalid&&(i.dirty||i.touched):!1}formSubmitted=!1;onBeforeUnload(){this.trackAbandonmentIfNeeded()}ngOnDestroy(){this.trackAbandonmentIfNeeded(),this.editor.destroy()}onSocialClick(e){e==="linkedin"?this.analyticsEvents.trackClickContactLinkedIn("contact_social"):this.analyticsEvents.trackClickSocial(e,"contact_social")}trackAbandonmentIfNeeded(){if(this.formSubmitted||this.isSubmitting||!this.contactForm.dirty)return;let e=Object.keys(this.contactForm.controls).filter(i=>(this.contactForm.get(i)?.dirty||this.contactForm.get(i)?.touched)??!1);e.length>0&&this.analyticsEvents.trackContactFormAbandoned(e)}onSubmit(){this.contactForm.valid?(this.isSubmitting=!0,this.submitError="",this.contactService.submit({name:this.contactForm.value.name,email:this.contactForm.value.email,subject:this.contactForm.value.subject||void 0,message:this.contactForm.value.message}).subscribe({next:()=>{this.formSubmitted=!0,this.contactForm.reset();let e=this.authState()?.user;e&&this.prefillContactIdentity(e.firstName,e.lastName,e.email),this.isSubmitting=!1,this.modalType="success",this.modalTitle="\xA1Mensaje Enviado!",this.modalMessage="Tu mensaje ha sido enviado correctamente. Te responder\xE9 lo antes posible.",this.showModal=!0},error:e=>{this.isSubmitting=!1,this.submitError=e.error?.message||"Error al enviar. Intenta de nuevo.",this.modalType="error",this.modalTitle="Error al Enviar",this.modalMessage=this.submitError,this.showModal=!0}})):Object.keys(this.contactForm.controls).forEach(e=>{this.contactForm.get(e)?.markAsTouched()})}closeModal(){this.showModal=!1}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=M({type:a,selectors:[["app-contact"]],hostBindings:function(i,o){i&1&&p("beforeunload",function(){return o.onBeforeUnload()},!1,x)},decls:88,vars:22,consts:[[1,"contact-hero"],[1,"container"],[1,"contact-title"],[1,"contact-subtitle"],[3,"closed","visible","type","title","message"],[1,"contact-content"],[1,"contact-grid"],[1,"contact-info"],[1,"contact-items"],[1,"contact-item"],[1,"contact-icon"],[1,"fa-regular","fa-envelope","contact-icon"],[1,"contact-details"],[1,"email-row"],[1,"email-text"],["type","button","aria-label","Copiar email",1,"copy-btn",3,"click","disabled"],[1,"fa-solid","fa-copy"],["class","copied-msg",4,"ngIf"],[1,"fa-solid","fa-location-dot","contact-icon"],[1,"fa-solid","fa-briefcase","contact-icon"],[1,"social-links"],[1,"social-icons"],["href","https://github.com/juanencabo","target","_blank","rel","noopener noreferrer",1,"social-link",3,"click"],["aria-hidden","true",1,"fa-brands","fa-github","social-icon"],["href","https://linkedin.com/in/juanencabo","target","_blank","rel","noopener noreferrer",1,"social-link",3,"click"],["aria-hidden","true",1,"fa-brands","fa-linkedin-in","social-icon"],["href","https://instagram.com/juanencabo","target","_blank","rel","noopener noreferrer",1,"social-link",3,"click"],["aria-hidden","true",1,"fa-brands","fa-instagram","social-icon"],[1,"contact-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Tu nombre completo","autocomplete","name"],["class","error-message",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","tu@email.com","autocomplete","email"],["for","subject"],["type","text","id","subject","formControlName","subject","placeholder","Asunto del mensaje"],["for","message"],[1,"rich-editor-wrapper","NgxEditor__Wrapper"],[3,"editor","toolbar"],["formControlName","message","outputFormat","html","placeholder","Escribe tu mensaje con formato (negrita, listas, enlaces...)",3,"editor"],["class","submit-error",4,"ngIf"],["type","submit",1,"submit-btn",3,"disabled"],[4,"ngIf"],[1,"copied-msg"],[1,"error-message"],[1,"submit-error"]],template:function(i,o){i&1&&(n(0,"section",0)(1,"div",1)(2,"h1",2),r(3,"Contacto"),t(),n(4,"p",3),r(5,"\xBFTienes un proyecto en mente? \xA1Hablemos!"),t()()(),n(6,"app-feedback-modal",4),p("closed",function(){return o.closeModal()}),t(),n(7,"section",5)(8,"div",1)(9,"div",6)(10,"div",7)(11,"h2"),r(12,"Informaci\xF3n de Contacto"),t(),n(13,"div",8)(14,"div",9)(15,"div",10),s(16,"i",11),t(),n(17,"div",12)(18,"h3"),r(19,"Email"),t(),n(20,"p",13)(21,"span",14),r(22),t(),n(23,"button",15),p("click",function(){return o.copyEmail()}),s(24,"i",16),t(),g(25,K,2,0,"span",17),t()()(),n(26,"div",9)(27,"div",10),s(28,"i",18),t(),n(29,"div",12)(30,"h3"),r(31,"Ubicaci\xF3n"),t(),n(32,"p"),r(33,"Buenos Aires, Argentina"),t()()(),n(34,"div",9)(35,"div",10),s(36,"i",19),t(),n(37,"div",12)(38,"h3"),r(39,"Disponibilidad"),t(),n(40,"p"),r(41,"Abierto a nuevas oportunidades"),t()()()(),s(42,"div"),n(43,"div",20)(44,"h3"),r(45,"S\xEDgueme en redes"),t(),n(46,"div",21)(47,"a",22),p("click",function(){return o.onSocialClick("github")}),s(48,"i",23),n(49,"span"),r(50,"GitHub"),t()(),n(51,"a",24),p("click",function(){return o.onSocialClick("linkedin")}),s(52,"i",25),n(53,"span"),r(54,"LinkedIn"),t()(),n(55,"a",26),p("click",function(){return o.onSocialClick("instagram")}),s(56,"i",27),n(57,"span"),r(58,"Instagram"),t()()()()(),n(59,"div",28)(60,"h2"),r(61,"Enviar Mensaje"),t(),n(62,"form",29),p("ngSubmit",function(){return o.onSubmit()}),n(63,"div",30)(64,"label",31),r(65,"Nombre *"),t(),s(66,"input",32),g(67,Q,2,0,"div",33),t(),n(68,"div",30)(69,"label",34),r(70,"Email *"),t(),s(71,"input",35),g(72,X,2,0,"div",33),t(),n(73,"div",30)(74,"label",36),r(75,"Asunto"),t(),s(76,"input",37),t(),n(77,"div",30)(78,"label",38),r(79,"Mensaje *"),t(),n(80,"div",39),s(81,"ngx-editor-menu",40)(82,"ngx-editor",41),t(),g(83,Z,2,0,"div",33),t(),g(84,ee,2,1,"p",42),n(85,"button",43),g(86,te,2,0,"span",44)(87,ne,2,0,"span",44),t()()()()()()),i&2&&(c(6),l("visible",o.showModal)("type",o.modalType)("title",o.modalTitle)("message",o.modalMessage),c(16),v(o.contactEmail),c(),l("disabled",o.copied),c(2),l("ngIf",o.copied),c(37),l("formGroup",o.contactForm),c(4),b("error",o.isFieldInvalid("name")),c(),l("ngIf",o.isFieldInvalid("name")),c(4),b("error",o.isFieldInvalid("email")),c(),l("ngIf",o.isFieldInvalid("email")),c(9),l("editor",o.editor)("toolbar",o.editorToolbar),c(),l("editor",o.editor),c(),l("ngIf",o.isFieldInvalid("message")),c(),l("ngIf",o.submitError),c(),l("disabled",o.contactForm.invalid||o.isSubmitting),c(),l("ngIf",!o.isSubmitting),c(),l("ngIf",o.isSubmitting))},dependencies:[R,B,j,A,z,D,L,P,O,q,G,Y],styles:[".contact-icon[_ngcontent-%COMP%]{font-size:20px}.contact-hero[_ngcontent-%COMP%]{padding:5rem 0 3rem;background:var(--background-hero);text-align:center}.contact-title[_ngcontent-%COMP%]{font-size:3rem;color:var(--title-primary);margin-bottom:1rem;text-shadow:var(--shadow-neon)}.contact-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--text-secondary);max-width:600px;margin:0 auto}.contact-content[_ngcontent-%COMP%]{padding:4rem 0;background:var(--background-dark);width:100%}.contact-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.25fr;gap:4rem;max-width:1200px;margin:0 auto}.contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--title-secondary);font-size:2rem;margin-bottom:2rem;text-shadow:var(--shadow-neon)}.contact-items[_ngcontent-%COMP%]{margin-bottom:3rem}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:2rem;padding:1.5rem;border-radius:15px;transition:all .3s ease}.contact-icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .contact-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-primary);width:28px;height:28px}.contact-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-accent);font-size:1.2rem;margin-bottom:.5rem}.contact-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}.social-links[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--title-secondary);font-size:1.5rem;margin-bottom:1.5rem}.social-icons[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.social-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:var(--background-card);border:1px solid var(--border-color);border-radius:25px;color:var(--text-secondary);text-decoration:none;transition:all .3s ease}.social-link[_ngcontent-%COMP%]:hover{background:var(--border-color);color:var(--link-hover);border-color:var(--border-hover);transform:translateY(-2px);box-shadow:var(--shadow-card)}.social-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;flex-shrink:0;font-size:1.1rem;color:var(--text-primary);transition:color .3s ease}.social-link[_ngcontent-%COMP%]:hover   .social-icon[_ngcontent-%COMP%]{color:var(--text-primary)}.contact-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--title-secondary);font-size:2rem;margin-bottom:2rem;text-shadow:var(--shadow-neon)}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-primary);font-weight:500;margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1rem;background:var(--background-card);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);font-size:1rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--border-hover);box-shadow:var(--shadow-card)}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]{border-color:var(--error);box-shadow:0 0 10px var(--error)}.submit-error[_ngcontent-%COMP%]{color:var(--error);font-size:.9rem;margin-bottom:1rem}.error-message[_ngcontent-%COMP%]{color:var(--error);font-size:.9rem;margin-top:.5rem}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:1rem 2rem;background:var(--button-primary);color:var(--background-dark);border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow-neon)}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-card)}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.email-row[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem}.email-text[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;color:var(--text-primary)}.copy-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:6px;border:1px solid var(--border-color);background:var(--background-card);color:var(--text-accent);cursor:pointer;transition:all .2s ease}.copy-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:var(--shadow-card);border-color:var(--border-hover)}.copy-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:default}.copied-msg[_ngcontent-%COMP%]{color:var(--text-accent);font-size:.85rem;opacity:.9}@media (max-width: 768px){.contact-title[_ngcontent-%COMP%]{font-size:2.5rem}.contact-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:3rem}.contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.social-icons[_ngcontent-%COMP%]{justify-content:center}.contact-item[_ngcontent-%COMP%]{padding:1rem}.contact-icon[_ngcontent-%COMP%]{font-size:1.5rem;min-width:40px}}.rich-editor-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;min-height:250px}.rich-editor-wrapper[_ngcontent-%COMP%]     .NgxEditor, .rich-editor-wrapper[_ngcontent-%COMP%]     .NgxEditor__Wrapper, .rich-editor-wrapper[_ngcontent-%COMP%]     ngx-editor-menu{--ngx-editor-background-color: var(--background-card);--ngx-editor-text-color: var(--text-primary);--ngx-editor-placeholder-color: var(--text-secondary);--ngx-editor-border-color: var(--border-color);--ngx-editor-wrapper-border-color: var(--border-color);--ngx-editor-menubar-bg-color: var(--background-card);--ngx-editor-blockquote-color: var(--text-secondary);--ngx-editor-popup-bg-color: var(--background-card);--ngx-editor-menu-item-hover-bg-color: var(--background-card-hover, rgba(0, 255, 204, .1));--ngx-editor-menu-item-active-color: var(--button-primary, #00ffcc);--ngx-editor-menu-item-active-bg-color: var(--background-card-hover, rgba(0, 255, 204, .1));--ngx-editor-seperator-color: var(--border-color)}.rich-editor-wrapper[_ngcontent-%COMP%]     .NgxEditor__MenuBar{background-color:var(--background-card)!important;color:var(--text-primary)!important;border-bottom:1px solid var(--border-color)!important;border-radius:8px 8px 0 0!important}.rich-editor-wrapper[_ngcontent-%COMP%]     .NgxEditor__MenuBar .NgxEditor__MenuItem--Icon, .rich-editor-wrapper[_ngcontent-%COMP%]     .NgxEditor__MenuBar .NgxEditor__Dropdown, .rich-editor-wrapper[_ngcontent-%COMP%]     .NgxEditor__MenuBar .NgxEditor__Dropdown--Text{color:var(--text-primary)!important}.rich-editor-wrapper[_ngcontent-%COMP%]     .NgxEditor__MenuBar svg{fill:var(--text-primary)!important}.rich-editor-wrapper[_ngcontent-%COMP%]     ngx-editor{flex:1;display:flex;flex-direction:column}.rich-editor-wrapper[_ngcontent-%COMP%]     .NgxEditor{border-radius:0 0 8px 8px;border:1px solid var(--border-color);background-color:var(--background-card)!important;flex:1}.rich-editor-wrapper[_ngcontent-%COMP%]     .NgxEditor__Content{min-height:180px;padding:12px 16px!important}"]})};export{$ as ContactComponent};
