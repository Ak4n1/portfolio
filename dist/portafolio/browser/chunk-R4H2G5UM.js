import{b as ie}from"./chunk-5LNJU7KB.js";import{a as te}from"./chunk-4TFONGUD.js";import{c as ne,e as oe,j as re,w as ae}from"./chunk-J666E7JD.js";import{a as ee}from"./chunk-WV3CAMKT.js";import{a as Q,b as X}from"./chunk-JB5K5Y3O.js";import{a as Z}from"./chunk-MQB6D6E4.js";import{a as G,b as J,d as K}from"./chunk-SFS47BZX.js";import{o as Y,r as q,s as W}from"./chunk-XPIPXS6X.js";import{Ab as p,C as V,D as A,Eb as y,Ib as m,Jb as d,Pa as E,Rb as i,Sb as f,Ta as j,Tb as w,U as I,Ua as c,Ub as P,_ as C,a as k,b as O,bc as F,cb as N,dc as L,ec as U,fa as u,ga as b,hb as x,ma as R,ob as $,p as z,pb as v,pc as B,rb as M,ta as H,tb as _,ua as g,wb as T,xb as D,yb as n,zb as o}from"./chunk-PWGBBCAH.js";var se=Z.apiBaseUrl,de=`${se}/api/contact`,S=class a{http=C(K);apiUrl=de;getHttpOptions(){return{headers:new G({"Content-Type":"application/json"})}}getContacts(t={}){let e=new J;return t.page!=null&&(e=e.set("page",t.page)),t.size!=null&&(e=e.set("size",t.size)),t.read!=null&&(e=e.set("read",t.read)),t.dateFrom&&(e=e.set("dateFrom",t.dateFrom)),t.dateTo&&(e=e.set("dateTo",t.dateTo)),t.search&&(e=e.set("search",t.search)),this.http.get(this.apiUrl,O(k({},this.getHttpOptions()),{params:e})).pipe(A(()=>z({contacts:[],totalElements:0,totalPages:0,page:0,size:t.size??10,unreadCount:0})))}markAsRead(t){return this.http.patch(`${this.apiUrl}/${t}/read`,{})}markAllAsRead(){return this.http.patch(`${this.apiUrl}/mark-all-as-read`,{})}deleteContact(t){return this.http.delete(`${this.apiUrl}/${t}`,this.getHttpOptions())}static \u0275fac=function(e){return new(e||a)};static \u0275prov=I({token:a,factory:a.\u0275fac,providedIn:"root"})};var me=(a,t)=>t.value,pe=(a,t)=>t.id;function ge(a,t){if(a&1){let e=y();n(0,"li",41),m("click",function(){let l=u(e).$implicit,s=d();return s.onReadFilterChange(l.value),b(s.readFilterOpen.set(!1))}),i(1),o()}if(a&2){let e=t.$implicit,r=d();M("selected",r.readFilter()===e.value),c(),w(" ",e.label," ")}}function ue(a,t){if(a&1&&(i(0," Tienes "),n(1,"span",42),i(2),o(),i(3)),a&2){let e=d();c(2),f(e.unreadCount()),c(),P(" mensaje",e.unreadCount()!==1?"s":""," nuevo",e.unreadCount()!==1?"s":""," ")}}function be(a,t){a&1&&i(0," No tienes mensajes nuevos ")}function fe(a,t){if(a&1){let e=y();n(0,"button",43),m("click",function(){u(e);let l=d();return b(l.markAllAsRead())}),p(1,"i",44),i(2," Marcar todas como le\xEDdas "),o()}}function _e(a,t){if(a&1&&(n(0,"p",37),i(1),o()),a&2){let e=d();c(),f(e.error())}}function xe(a,t){a&1&&(n(0,"div",38),i(1,"Cargando mensajes..."),o())}function he(a,t){a&1&&(n(0,"div",39),p(1,"i",45),n(2,"p"),i(3,"No se encontraron mensajes."),o()())}function Ce(a,t){a&1&&(n(0,"span",56),i(1,"Nuevo"),o())}function ve(a,t){a&1&&(n(0,"span",57),i(1,"Le\xEDdo"),o())}function ye(a,t){if(a&1&&(n(0,"span",66),p(1,"i",74),i(2),o()),a&2){let e=d().$implicit;c(2),P(" ",e.city,", ",e.country," ")}}function Pe(a,t){if(a&1&&(n(0,"span",67),p(1,"i",75),i(2),o()),a&2){let e=d().$implicit;c(2),w(" IP: ",e.ipAddress," ")}}function Me(a,t){if(a&1){let e=y();n(0,"button",76),m("click",function(l){u(e);let s=d().$implicit;return d(2).markAsRead(s),b(l.stopPropagation())}),p(1,"i",77),o()}}function ke(a,t){if(a&1){let e=y();n(0,"article",49),m("click",function(){let l=u(e).$implicit,s=d(2);return b(s.openDetails(l))}),n(1,"div",50)(2,"div",51),i(3),o(),n(4,"div",52)(5,"div",53)(6,"h3",54),i(7),o(),n(8,"div",55),x(9,Ce,2,0,"span",56)(10,ve,2,0,"span",57),o()(),n(11,"span",58),i(12),o()(),n(13,"div",59)(14,"span",60),i(15),o()()(),n(16,"div",61)(17,"h4",62),i(18),o(),p(19,"div",63),F(20,"slice"),o(),n(21,"div",64)(22,"div",65),x(23,ye,3,2,"span",66)(24,Pe,3,1,"span",67),o(),n(25,"div",68),x(26,Me,2,0,"button",69),n(27,"button",70),m("click",function(l){let s=u(e).$implicit;return d(2).openDetails(s),b(l.stopPropagation())}),p(28,"i",71),o(),n(29,"button",72),m("click",function(l){let s=u(e).$implicit;return d(2).deleteContact(s),b(l.stopPropagation())}),p(30,"i",73),o()()()()}if(a&2){let e=t.$implicit,r=d(2);M("unread",!e.read),c(3),w(" ",e.name.charAt(0).toUpperCase()," "),c(4),f(e.name),c(2),_(e.read?10:9),c(3),f(e.email),c(3),f(r.getRelativeTime(e.createdAt)),c(3),f(e.subject||"(Sin asunto)"),c(),v("innerHTML",r.getSafeHtml(U(20,11,e.message,0,150)+(e.message.length>150?"...":"")),E),c(4),_(e.city&&e.country?23:24),c(3),_(e.read?-1:26)}}function Oe(a,t){if(a&1){let e=y();n(0,"div",48)(1,"button",78),m("click",function(){u(e);let l=d(2);return b(l.goToPage(l.currentPage()-1))}),p(2,"i",79),o(),n(3,"span",80),i(4),o(),n(5,"button",78),m("click",function(){u(e);let l=d(2);return b(l.goToPage(l.currentPage()+1))}),p(6,"i",81),o()()}if(a&2){let e=d(2);c(),v("disabled",e.currentPage()===0),c(3),P("P\xE1gina ",e.currentPage()+1," de ",e.totalPages(),""),c(),v("disabled",e.currentPage()>=e.totalPages()-1)}}function we(a,t){if(a&1&&(n(0,"div",46),T(1,ke,31,15,"article",47,pe),o(),x(3,Oe,7,4,"div",48)),a&2){let e=d();c(),D(e.contacts()),c(2),_(e.totalPages()>1?3:-1)}}function Se(a,t){if(a&1&&(n(0,"div",97)(1,"span",98),i(2,"Ubicaci\xF3n"),o(),n(3,"span",99),i(4),o()(),n(5,"div",97)(6,"span",98),i(7,"ISP"),o(),n(8,"span",99),i(9),o()()),a&2){let e=d();c(4),P("",e.city,", ",e.country,""),c(5),f(e.isp)}}function Ee(a,t){if(a&1){let e=y();n(0,"div",82),m("click",function(){u(e);let l=d();return b(l.closeModal())}),n(1,"div",83),m("click",function(l){return u(e),b(l.stopPropagation())}),n(2,"div",84)(3,"header",85)(4,"div",86)(5,"h2",87),i(6),o(),n(7,"div",88),p(8,"i",89),n(9,"span"),i(10),o()()(),n(11,"button",90),m("click",function(){u(e);let l=d();return b(l.closeModal())}),i(12,"\xD7"),o()(),n(13,"div",91)(14,"div",92)(15,"div",93),i(16,"MENSAJE"),o(),n(17,"div",94),p(18,"div",95),o()(),n(19,"div",96)(20,"div",97)(21,"span",98),i(22,"Fecha"),o(),n(23,"span",99),i(24),F(25,"date"),o()(),n(26,"div",97)(27,"span",98),i(28,"IP"),o(),n(29,"span",99),i(30),o()(),x(31,Se,10,3),o()(),n(32,"footer",100)(33,"button",101),m("click",function(){u(e);let l=d();return b(l.closeModal())}),i(34,"Cerrar"),o(),n(35,"button",102),m("click",function(){let l=u(e),s=d();return s.deleteContact(l),b(s.closeModal())}),p(36,"i",73),i(37," Eliminar "),o()()()()()}if(a&2){let e=t,r=d();c(6),f(e.subject||"Mensaje de Contacto"),c(4),P("",e.name," <",e.email,">"),c(8),v("innerHTML",r.getSafeHtml(e.message),E),c(6),f(L(25,7,e.createdAt,"medium")),c(6),f(e.ipAddress),c(),_(e.country?31:-1)}}var le=class a{contactService=C(S);authStateService=C(ee);ws=C(te);destroyRef=C(R);elementRef=C(H);authState=X(this.authStateService.authState,{initialValue:{isAuthenticated:!1,user:null,isLoading:!1}});_safeHtmlCache=new Map;contacts=g([]);unreadCount=g(0);totalElements=g(0);totalPages=g(0);currentPage=g(0);pageSize=8;loading=g(!0);error=g(null);readFilter=g("all");dateFrom=g("");dateTo=g("");searchText=g("");readFilterOpen=g(!1);selectedContact=g(null);modalVisible=g(!1);readFilterOptions=[{value:"all",label:"Todos"},{value:"unread",label:"No le\xEDdos"},{value:"read",label:"Le\xEDdos"}];isAdmin=B(()=>!!this.authState()?.user?.roles?.includes("ROLE_ADMIN"));getRelativeTime=ie;getSafeHtml(t){let e=t||"",r=this._safeHtmlCache.get(e);if(r)return r;let s=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/&lt;br\s*\/?&gt;/gi,"<br>").replace(/\r?\n/g,"<br>");return this._safeHtmlCache.set(e,s),s}getReadFilterLabel(){return this.readFilterOptions.find(t=>t.value===this.readFilter())?.label??"Todos"}ngOnInit(){this.ws.messages.pipe(V(t=>t.type==="NOTIFICATION_COUNT_UPDATED"||t.type==="CONTACT_SUBMITTED"),Q(this.destroyRef)).subscribe(()=>{this.loadPage(this.currentPage())}),this.isAdmin()&&this.applyFilters()}applyFilters(){this.loadPage(0)}onReadFilterChange(t){this.readFilter.set(t),this.applyFilters()}onDateFromChange(t){this.dateFrom.set(t),this.applyFilters()}onDateToChange(t){this.dateTo.set(t),this.applyFilters()}clearFilters(){this.readFilter.set("all"),this.dateFrom.set(""),this.dateTo.set(""),this.searchText.set(""),this.applyFilters()}loadPage(t){this.loading.set(!0),this.error.set(null);let e=this.readFilter()==="all"?void 0:this.readFilter()!=="unread",r=this.dateFrom()||void 0,l=this.dateTo()||void 0,s=this.searchText().trim()||void 0;this.contactService.getContacts({page:t,size:this.pageSize,read:e,dateFrom:r,dateTo:l,search:s}).subscribe({next:h=>{this._safeHtmlCache.clear(),this.contacts.set(h.contacts??[]),this.totalElements.set(h.totalElements),this.totalPages.set(h.totalPages),this.currentPage.set(h.page),this.unreadCount.set(h.unreadCount),this.loading.set(!1)},error:()=>{this.error.set("No se pudieron cargar los contactos."),this.loading.set(!1)}})}goToPage(t){t>=0&&t<this.totalPages()&&this.loadPage(t)}openDetails(t){this.selectedContact.set(t),this.modalVisible.set(!0),t.read||this.markAsRead(t)}closeModal(){this.modalVisible.set(!1),this.selectedContact.set(null)}markAsRead(t){t.read||this.contactService.markAsRead(t.id).subscribe({next:()=>{t.read=!0,this.unreadCount.update(e=>Math.max(0,e-1)),this.readFilter()==="unread"&&this.loadPage(this.currentPage())}})}markAllAsRead(){this.unreadCount()!==0&&this.contactService.markAllAsRead().subscribe({next:()=>{this.unreadCount.set(0),this.contacts.update(t=>t.map(e=>O(k({},e),{read:!0}))),this.readFilter()==="unread"&&this.loadPage(this.currentPage()),this.applyFilters()}})}deleteContact(t){confirm("\xBFEst\xE1s seguro de que deseas eliminar este contacto?")&&this.contactService.deleteContact(t.id).subscribe({next:()=>{this.contacts.update(e=>e.filter(r=>r.id!==t.id)),t.read||this.unreadCount.update(e=>Math.max(0,e-1))}})}onDocumentClick(t){let e=this.elementRef.nativeElement,r=t.target;if(!e.contains(r)){this.readFilterOpen.set(!1);return}let l=e.querySelector(".custom-select");l&&!l.contains(r)&&this.readFilterOpen.set(!1)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=N({type:a,selectors:[["app-dashboard-contactos"]],hostBindings:function(e,r){e&1&&m("click",function(s){return r.onDocumentClick(s)},!1,j)},decls:63,vars:14,consts:[[1,"contact-dashboard-container"],[1,"management-main"],[1,"management-sidebar"],[1,"sidebar-header"],[1,"management-title"],[1,"dashboard-title-prefix"],[1,"management-subtitle"],[1,"filter-card"],["for","contact-search",1,"filter-label"],[1,"search-box"],["aria-hidden","true",1,"fas","fa-search","search-icon"],["id","contact-search","type","text","placeholder","Nombre, email o asunto...",1,"search-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"filter-label"],[1,"date-inputs"],[1,"date-group"],[1,"date-label"],["type","date","aria-label","Desde",1,"styled-input",3,"ngModelChange","ngModel"],["type","date","aria-label","Hasta",1,"styled-input",3,"ngModelChange","ngModel"],[1,"custom-select",3,"click"],["type","button","aria-haspopup","listbox",1,"custom-select-trigger",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-down","custom-select-chevron"],["role","listbox",1,"custom-select-dropdown"],["role","option",3,"selected"],[1,"filter-card","border-none"],[1,"sidebar-actions-group"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-filter"],["title","Limpiar todos los filtros",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-history"],[1,"contactos-area"],[1,"page-header"],[1,"header-main-row"],[1,"header-text"],[1,"page-title"],[1,"page-subtitle"],[1,"page-header-actions"],["type","button",1,"btn","btn-primary"],["role","alert",1,"error-msg"],[1,"loading-state"],[1,"empty-state"],[1,"modal-overlay"],["role","option",3,"click"],[1,"subtitle-count"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-check-double"],["aria-hidden","true",1,"fas","fa-inbox"],[1,"contact-list"],[1,"contact-card",3,"unread"],[1,"pagination"],[1,"contact-card",3,"click"],[1,"contact-card-header"],[1,"contact-avatar"],[1,"contact-info"],[1,"name-status-row"],[1,"contact-name"],[1,"status-badge-container"],[1,"status-badge","unread"],[1,"status-badge","read"],[1,"contact-email"],[1,"contact-meta-top"],[1,"date-text"],[1,"contact-card-body"],[1,"contact-subject"],[1,"contact-preview",3,"innerHTML"],[1,"contact-card-footer"],[1,"footer-left"],[1,"location-tag"],[1,"location-tag","unknown"],[1,"card-actions-row"],["type","button","title","Marcar como le\xEDdo",1,"action-btn","read-btn"],["type","button","title","Ver detalles",1,"action-btn","view-btn",3,"click"],[1,"fas","fa-eye"],["type","button","title","Eliminar",1,"action-btn","delete-btn",3,"click"],[1,"fas","fa-trash-alt"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-globe"],["type","button","title","Marcar como le\xEDdo",1,"action-btn","read-btn",3,"click"],[1,"fas","fa-check"],[1,"btn-pag",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"pag-text"],[1,"fas","fa-chevron-right"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-card"],[1,"modal-header"],[1,"modal-header-info"],[1,"modal-title"],[1,"modal-sender-pill"],[1,"fas","fa-user"],["aria-label","Cerrar",1,"modal-close-btn",3,"click"],[1,"modal-body"],[1,"message-container"],[1,"message-label"],[1,"message-content-scroll"],[1,"rich-text-content",3,"innerHTML"],[1,"metadata-grid"],[1,"metadata-item"],[1,"meta-label"],[1,"meta-value"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"aside",2)(3,"div",3)(4,"h1",4)(5,"span",5),i(6,"/"),o(),i(7,"Contactos"),o(),n(8,"p",6),i(9,"Filtra y gestiona los mensajes de contacto"),o()(),n(10,"div",7)(11,"label",8),i(12,"BUSCAR"),o(),n(13,"div",9),p(14,"i",10),n(15,"input",11),m("ngModelChange",function(s){return r.searchText.set(s)})("keyup.enter",function(){return r.applyFilters()}),o()()(),n(16,"div",7)(17,"label",12),i(18,"RANGO DE FECHA"),o(),n(19,"div",13)(20,"div",14)(21,"span",15),i(22,"Desde"),o(),n(23,"input",16),m("ngModelChange",function(s){return r.onDateFromChange(s)}),o()(),n(24,"div",14)(25,"span",15),i(26,"Hasta"),o(),n(27,"input",17),m("ngModelChange",function(s){return r.onDateToChange(s)}),o()()()(),n(28,"div",7)(29,"label",12),i(30,"ESTADO"),o(),n(31,"div",18),m("click",function(s){return s.stopPropagation()}),n(32,"button",19),m("click",function(){return r.readFilterOpen.set(!r.readFilterOpen())}),n(33,"span"),i(34),o(),p(35,"i",20),o(),n(36,"ul",21),T(37,ge,2,3,"li",22,me),o()()(),n(39,"div",23)(40,"div",24)(41,"button",25),m("click",function(){return r.applyFilters()}),p(42,"i",26),i(43," Aplicar "),o(),n(44,"button",27),m("click",function(){return r.clearFilters()}),p(45,"i",28),i(46," Limpiar filtros "),o()()()(),n(47,"section",29)(48,"header",30)(49,"div",31)(50,"div",32)(51,"h2",33),i(52,"Mensajes Recibidos"),o(),n(53,"p",34),x(54,ue,4,3)(55,be,1,0),o()(),n(56,"div",35),x(57,fe,3,0,"button",36),o()()(),x(58,_e,2,1,"p",37)(59,xe,2,0,"div",38)(60,he,4,0,"div",39)(61,we,4,1),o()()(),x(62,Ee,38,10,"div",40)),e&2){let l;c(15),v("ngModel",r.searchText()),c(8),v("ngModel",r.dateFrom()),c(4),v("ngModel",r.dateTo()),c(),M("z-top",r.readFilterOpen()),c(3),M("open",r.readFilterOpen()),c(),$("aria-expanded",r.readFilterOpen()),c(2),f(r.getReadFilterLabel()),c(3),D(r.readFilterOptions),c(17),_(r.unreadCount()>0?54:55),c(3),_(r.unreadCount()>0?57:-1),c(),_(r.error()?58:-1),c(),_(r.loading()?59:r.contacts().length===0?60:61),c(3),_((l=r.modalVisible()&&r.selectedContact())?62:-1,l)}},dependencies:[W,q,Y,ae,ne,oe,re],styles:["[_nghost-%COMP%]{flex:1;min-height:0;display:flex;flex-direction:column;overflow:hidden}.contact-dashboard-container[_ngcontent-%COMP%]{flex:1;min-height:0;display:flex;flex-direction:column;overflow:hidden;background-color:var(--background-dark);color:var(--color-text-primary)}.management-main[_ngcontent-%COMP%]{flex:1;min-height:0;display:flex;overflow:hidden}.management-sidebar[_ngcontent-%COMP%]{width:30rem;flex-shrink:0;display:flex;flex-direction:column;gap:var(--spacing-lg);overflow-y:auto;background-color:var(--background-dark);padding:var(--spacing-xl);border-right:1px solid color-mix(in srgb,var(--color-primary) 12%,transparent)}.sidebar-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md)}.management-title[_ngcontent-%COMP%]{font-size:clamp(1.5rem,3vw,1.75rem);font-weight:800;letter-spacing:-.02em;color:var(--color-text-primary);margin:0}.management-subtitle[_ngcontent-%COMP%]{font-size:var(--font-size-body-small);color:var(--color-text-secondary);margin-top:.35rem}.filter-card[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--color-primary) 6%,var(--background-dark));-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid color-mix(in srgb,var(--color-primary) 12%,transparent);border-radius:.75rem;padding:1.25rem 1.5rem;box-shadow:0 5px 10px #00ffc31a}.filter-card.z-top[_ngcontent-%COMP%]{position:relative;z-index:10100}.filter-card.border-none[_ngcontent-%COMP%]{border:none;background:transparent;padding:0;box-shadow:none}.filter-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.08em;margin-bottom:.35rem;margin-left:.25rem;color:var(--color-text-secondary)}.search-box[_ngcontent-%COMP%]{position:relative;margin-bottom:var(--spacing-sm)}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--color-text-secondary);font-size:1.25rem}.search-input[_ngcontent-%COMP%]{width:100%;min-height:3.25rem;padding:.875rem 1rem .875rem 3rem;background:color-mix(in srgb,var(--color-text-primary) 8%,transparent);border:1px solid color-mix(in srgb,var(--color-text-primary) 25%,transparent);border-radius:var(--border-radius-md);font-size:1rem;color:var(--color-text-primary);transition:all .2s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px color-mix(in srgb,var(--color-primary) 25%,transparent)}.styled-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;background:color-mix(in srgb,var(--color-text-primary) 8%,transparent);border:1px solid color-mix(in srgb,var(--color-text-primary) 25%,transparent);border-radius:var(--border-radius-md);font-size:1rem;color:var(--color-text-primary);transition:all .2s}.styled-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px color-mix(in srgb,var(--color-primary) 25%,transparent)}.sidebar-actions-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:1rem}@media (min-width: 901px){.sidebar-actions-group[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.sidebar-actions-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;justify-content:center;padding:.75rem .5rem;font-size:.8rem}}.date-inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.date-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.date-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:var(--color-text-secondary);margin-left:.25rem}.custom-select.open[_ngcontent-%COMP%]{z-index:10001}.custom-select-trigger[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;min-height:3.25rem;padding:.875rem 1rem;background:color-mix(in srgb,var(--color-text-primary) 8%,transparent);border:1px solid color-mix(in srgb,var(--color-text-primary) 25%,transparent);border-radius:var(--border-radius-md);color:var(--color-text-primary);font-size:1rem;font-weight:500;font-family:inherit;cursor:pointer;transition:border-color .2s,box-shadow .2s;text-align:left}.custom-select.open[_ngcontent-%COMP%]   .custom-select-trigger[_ngcontent-%COMP%]{border-color:var(--color-primary);box-shadow:0 0 0 2px color-mix(in srgb,var(--color-primary) 25%,transparent)}.custom-select-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 4px);left:0;right:0;margin:0;padding:.25rem 0;list-style:none;background:color-mix(in srgb,var(--color-primary) 8%,var(--background-dark));border:1px solid color-mix(in srgb,var(--color-primary) 12%,transparent);border-radius:var(--border-radius-md);box-shadow:0 12px 32px #0009;max-height:200px;overflow-y:auto;z-index:10002;display:none}.custom-select.open[_ngcontent-%COMP%]   .custom-select-dropdown[_ngcontent-%COMP%]{display:block}.custom-select-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:1rem;color:var(--color-text-primary);cursor:pointer;transition:background .15s}.custom-select-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .custom-select-dropdown[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background:var(--color-primary-light);color:var(--color-primary)}.contactos-area[_ngcontent-%COMP%]{flex:1;min-height:0;min-width:0;display:flex;flex-direction:column;gap:var(--spacing-xl);padding:var(--spacing-xl);overflow-y:auto}.page-header[_ngcontent-%COMP%]{margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:var(--font-size-h2);font-weight:800;color:var(--color-text-primary)}.page-subtitle[_ngcontent-%COMP%]{font-size:.9375rem;color:var(--color-text-secondary)}.subtitle-count[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.contact-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(420px,1fr));gap:1.5rem}.contact-card[_ngcontent-%COMP%]{position:relative;padding:1.5rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;gap:1.25rem;background:color-mix(in srgb,var(--color-primary) 6%,var(--background-dark));-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid color-mix(in srgb,var(--color-primary) 12%,transparent);border-radius:.75rem;padding:1.25rem 1.5rem;box-shadow:0 5px 10px #00ffc31a}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-neon)}.contact-card.unread[_ngcontent-%COMP%]{border-left:4px solid var(--color-primary)}.contact-avatar[_ngcontent-%COMP%]{width:44px;height:44px;background:var(--color-primary);color:#0a0f0e;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.25rem}.contact-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:var(--color-text-primary)}.header-main-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1.5rem}.name-status-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.15rem}.contact-card-header[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start;margin-bottom:1.25rem;position:relative}.contact-info[_ngcontent-%COMP%]{flex:1}.contact-meta-top[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary);font-weight:500;white-space:nowrap}.status-badge[_ngcontent-%COMP%]{font-size:.58rem;padding:.15rem .4rem;border-radius:4px;font-weight:800;text-transform:uppercase;letter-spacing:.05em;display:inline-flex;vertical-align:middle}.contact-email[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--color-text-secondary)}.contact-date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--color-text-secondary);display:flex;flex-direction:column;align-items:flex-end;gap:.4rem;margin-left:auto}.status-badge.unread[_ngcontent-%COMP%]{background:var(--color-primary);color:var(--background-dark);box-shadow:0 0 10px color-mix(in srgb,var(--color-primary) 20%,transparent)}.status-badge.read[_ngcontent-%COMP%]{background:#ffffff0d;color:var(--color-text-secondary);border:1px solid rgba(255,255,255,.1)}.page-header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.contact-subject[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:700;color:var(--color-primary)}.contact-preview[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-secondary);line-height:1.6;max-height:4.8em;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical}.contact-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:1rem;border-top:1px solid color-mix(in srgb,var(--color-primary) 10%,transparent)}.contact-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--color-primary);color:#000}.contact-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-light);color:#fff}.card-actions-row[_ngcontent-%COMP%]{display:flex;gap:.5rem}.location-tag[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary);display:flex;align-items:center;gap:.5rem;background:color-mix(in srgb,var(--color-primary) 8%,transparent);padding:.35rem .75rem;border-radius:100px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1.5rem;margin-top:2rem;padding-bottom:1rem}.btn-pag[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;border:1px solid var(--color-border);background:var(--color-surface);color:var(--color-text-primary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.btn-pag[_ngcontent-%COMP%]:hover:not(:disabled){border-color:var(--color-primary);background:var(--color-primary-light);color:var(--color-primary)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:var(--overlay-bg);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);z-index:2000;display:flex;align-items:center;justify-content:center;padding:2rem;animation:_ngcontent-%COMP%_modal-fade-in .3s ease-out}@keyframes _ngcontent-%COMP%_modal-fade-in{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{width:100%;max-width:850px;animation:_ngcontent-%COMP%_modal-slide-up .4s cubic-bezier(.34,1.56,.64,1)}@keyframes _ngcontent-%COMP%_modal-slide-up{0%{opacity:0;transform:translateY(40px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-card[_ngcontent-%COMP%]{background:var(--modal-bg);border-radius:1.5rem;border:1px solid var(--border-color);box-shadow:0 25px 50px -12px #00000080;overflow:hidden;display:flex;flex-direction:column;max-height:85vh}.modal-header[_ngcontent-%COMP%]{padding:2rem;background:color-mix(in srgb,var(--color-primary) 5%,transparent);border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:flex-start}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--title-primary);margin-bottom:.75rem}.modal-sender-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.6rem;background:var(--background-dark);padding:.5rem 1rem;border-radius:100px;border:1px solid var(--border-color);color:var(--text-secondary);font-size:.875rem;font-weight:500}.modal-close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:2rem;line-height:1;color:var(--text-secondary);cursor:pointer;transition:color .2s}.modal-close-btn[_ngcontent-%COMP%]:hover{color:var(--color-primary)}.modal-body[_ngcontent-%COMP%]{padding:2rem;overflow-y:auto;display:flex;flex-direction:column;gap:2rem}.message-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.message-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;letter-spacing:.1em;color:var(--color-primary)}.message-content-scroll[_ngcontent-%COMP%]{background:var(--background-dark);border:1px solid var(--border-color);border-radius:1rem;padding:1.75rem;max-height:350px;overflow-y:auto}.rich-text-content[_ngcontent-%COMP%]{color:var(--text-primary);line-height:1.7;font-size:1rem}.metadata-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.metadata-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.meta-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.meta-value[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:var(--title-primary)}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:color-mix(in srgb,var(--color-primary) 3%,transparent);border-top:1px solid var(--border-color);display:flex;justify-content:flex-end;gap:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:var(--border-radius-md);font-weight:700;font-size:.875rem;display:inline-flex;align-items:center;gap:.6rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);border:none}.btn-primary[_ngcontent-%COMP%]{background:var(--color-primary);color:#0a0f0e}.btn-primary[_ngcontent-%COMP%]:hover{filter:brightness(1.1);transform:translateY(-2px);box-shadow:0 0 20px color-mix(in srgb,var(--color-primary) 40%,transparent)}.btn-secondary[_ngcontent-%COMP%]{background:var(--color-surface);color:var(--color-text-primary);border:1px solid var(--color-border)}.btn-secondary[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);background:var(--color-primary-light)}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626;transform:translateY(-2px);box-shadow:0 0 20px #ef444466}.action-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:var(--background-dark);border:1px solid var(--border-color);color:var(--text-secondary);cursor:pointer;transition:all .2s}.view-btn[_ngcontent-%COMP%]:hover, .read-btn[_ngcontent-%COMP%]:hover{color:var(--color-primary);border-color:var(--color-primary);box-shadow:0 0 10px color-mix(in srgb,var(--color-primary) 30%,transparent)}.delete-btn[_ngcontent-%COMP%]:hover{color:#ef4444;border-color:#ef4444;box-shadow:0 0 10px #ef44444d}@media (max-width: 1100px){.management-sidebar[_ngcontent-%COMP%]{width:18rem}}@media (max-width: 1200px){.management-main[_ngcontent-%COMP%]{flex-direction:column;overflow-y:auto;width:100%}.management-sidebar[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid var(--border-color);border-right:none}.contactos-area[_ngcontent-%COMP%]{flex-shrink:0;overflow-y:visible;width:100%}}@media (max-width: 768px){.management-sidebar[_ngcontent-%COMP%], .contactos-area[_ngcontent-%COMP%]{padding:var(--spacing-md)}.management-sidebar[_ngcontent-%COMP%]{gap:var(--spacing-md)}.contactos-area[_ngcontent-%COMP%]{gap:var(--spacing-lg)}}@media (max-width: 600px){.contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-overlay[_ngcontent-%COMP%]{padding:1rem}}"],changeDetection:0})};export{le as DashboardContactosComponent};
