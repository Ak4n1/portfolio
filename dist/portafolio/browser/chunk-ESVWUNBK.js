import{a as l,b as p,d as g}from"./chunk-WY3MPDUA.js";import{D as a,U as u,_ as c,a as s,b as o,l as d,p as r}from"./chunk-VJKI3SXJ.js";var m="http://localhost:8080",i=`${m}/api/notifications`,h=class n{http=c(g);unreadCountChanged$=new d;getUnreadCountChanged(){return this.unreadCountChanged$.asObservable()}notifyUnreadCountChanged(){this.unreadCountChanged$.next()}getHttpOptions(){return{headers:new l({"Content-Type":"application/json"})}}getNotifications(t={}){let e=new p;return t.page!=null&&(e=e.set("page",t.page)),t.size!=null&&(e=e.set("size",t.size)),t.type&&(e=e.set("type",t.type)),t.read!=null&&(e=e.set("read",t.read)),t.dateFrom&&(e=e.set("dateFrom",t.dateFrom)),t.dateTo&&(e=e.set("dateTo",t.dateTo)),t.search&&(e=e.set("search",t.search)),this.http.get(i,o(s({},this.getHttpOptions()),{params:e})).pipe(a(()=>r({notifications:[],totalElements:0,totalPages:0,page:0,size:t.size??10,unreadCount:0})))}getUnreadCount(t){let e=new p;return t?.excludeType&&(e=e.set("excludeType",t.excludeType)),this.http.get(`${i}/unread-count`,o(s({},this.getHttpOptions()),{params:e})).pipe(a(()=>r(0)))}markAsRead(t){return this.http.post(`${i}/${t}/read`,{},this.getHttpOptions())}markAllAsRead(){return this.http.post(`${i}/read-all`,{},this.getHttpOptions())}deleteNotification(t){return this.http.delete(`${i}/${t}`,this.getHttpOptions())}static \u0275fac=function(e){return new(e||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};export{h as a};
