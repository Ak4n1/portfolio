import{c as B,e as K,j as H,v as q}from"./chunk-SBYHMJI5.js";import{d as J}from"./chunk-WY3MPDUA.js";import{s as W}from"./chunk-RKUWSNO2.js";import{Ab as m,Eb as P,Ib as p,Jb as d,Qa as V,Rb as c,Sb as b,Ta as z,Tb as v,U as N,Ua as a,Wb as w,Xb as k,Yb as O,_ as R,cb as A,fa as u,ga as g,hb as C,ob as $,pb as M,qb as L,rb as x,ta as j,tb as f,ua as _,vb as T,wb as y,xb as S,yb as i,zb as o}from"./chunk-VJKI3SXJ.js";var h="http://localhost:8080",E=class n{http=R(J);searchNow(){return this.http.post(`${h}/api/admin/jobs/search-now`,{},{withCredentials:!0})}getLastRun(){return this.http.get(`${h}/api/admin/jobs/last-run`,{withCredentials:!0})}sendEmail(){return this.http.post(`${h}/api/admin/jobs/send-email`,{},{withCredentials:!0})}listSkills(){return this.http.get(`${h}/api/admin/jobs/profile-skills`,{withCredentials:!0})}createSkill(e){return this.http.post(`${h}/api/admin/jobs/profile-skills`,e,{withCredentials:!0})}updateSkill(e,t){return this.http.put(`${h}/api/admin/jobs/profile-skills/${e}`,t,{withCredentials:!0})}deleteSkill(e){return this.http.delete(`${h}/api/admin/jobs/profile-skills/${e}`,{withCredentials:!0})}listRules(){return this.http.get(`${h}/api/admin/jobs/alert-rules`,{withCredentials:!0})}createRule(e){return this.http.post(`${h}/api/admin/jobs/alert-rules`,e,{withCredentials:!0})}updateRule(e,t){return this.http.put(`${h}/api/admin/jobs/alert-rules/${e}`,t,{withCredentials:!0})}deleteRule(e){return this.http.delete(`${h}/api/admin/jobs/alert-rules/${e}`,{withCredentials:!0})}getSettings(){return this.http.get(`${h}/api/admin/jobs/settings`,{withCredentials:!0})}updateSettings(e){return this.http.put(`${h}/api/admin/jobs/settings`,e,{withCredentials:!0})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var I=(n,e)=>e.value,F=(n,e)=>e.id;function Q(n,e){if(n&1&&(i(0,"div",11),m(1,"i",49),i(2,"span"),c(3),o()()),n&2){let t=d();a(3),b(t.searchMessage())}}function X(n,e){if(n&1&&(i(0,"div",14)(1,"div",16),m(2,"i",30),i(3,"h2",18),c(4,"\xDAltima b\xFAsqueda"),o()(),i(5,"div",50)(6,"div",51)(7,"span",52),c(8),o(),i(9,"span",53),c(10,"Fecha"),o()(),i(11,"div",51)(12,"span",52),c(13),o(),i(14,"span",53),c(15,"Encontradas"),o()(),i(16,"div",51)(17,"span",52),c(18),o(),i(19,"span",53),c(20,"Nuevas enviadas"),o()(),i(21,"div",51)(22,"span",52),m(23,"i",9),o(),i(24,"span",53),c(25,"Email"),o()()()()),n&2){let t=d();a(8),b(t.formatDate(t.lastRun().runAt)),a(5),b(t.lastRun().offersFound),a(5),b(t.lastRun().offersSent),a(5),L("color",t.lastRun().emailSent?"var(--color-primary)":"#f87171"),x("fa-check-circle",t.lastRun().emailSent)("fa-times-circle",!t.lastRun().emailSent)}}function Y(n,e){n&1&&(i(0,"p",19),c(1,'No hay ofertas todav\xEDa. Hac\xE9 clic en "Buscar ahora" para comenzar.'),o())}function Z(n,e){if(n&1&&(i(0,"a",57),c(1),o()),n&2){let t=d().$implicit;M("href",t.url,V),a(),b(t.title)}}function ee(n,e){if(n&1&&c(0),n&2){let t=d().$implicit;v(" ",t.title," ")}}function te(n,e){if(n&1&&(i(0,"span",60),m(1,"i",63),c(2),o()),n&2){let t=d().$implicit;a(2),v(" ",t.company,"")}}function ne(n,e){if(n&1&&(i(0,"span",60),m(1,"i",64),c(2),o()),n&2){let t=d().$implicit;a(2),v(" ",t.location,"")}}function ie(n,e){if(n&1&&(i(0,"span",61),m(1,"i",65),c(2),o()),n&2){let t=d().$implicit;a(2),v(" ",t.salary,"")}}function re(n,e){if(n&1&&(i(0,"span",60),m(1,"i",66),c(2),o()),n&2){let t=d().$implicit;a(2),v(" ",t.date,"")}}function oe(n,e){if(n&1&&(i(0,"span",67),c(1),o()),n&2){let t=e.$implicit;a(),b(t)}}function ae(n,e){if(n&1&&(i(0,"div",62),y(1,oe,2,1,"span",67,T),o()),n&2){let t=d().$implicit;a(),S(t.tags)}}function le(n,e){if(n&1&&(i(0,"div",54)(1,"div",55)(2,"h3",56),C(3,Z,2,2,"a",57)(4,ee,1,1),o(),i(5,"span",58),c(6),o()(),i(7,"div",59),C(8,te,3,1,"span",60)(9,ne,3,1,"span",60)(10,ie,3,1,"span",61)(11,re,3,1,"span",60),o(),C(12,ae,3,0,"div",62),o()),n&2){let t=e.$implicit;a(3),f(t.url?3:4),a(3),b(t.source),a(2),f(t.company?8:-1),a(),f(t.location?9:-1),a(),f(t.salary?10:-1),a(),f(t.date?11:-1),a(),f(t.tags&&t.tags.length?12:-1)}}function se(n,e){if(n&1&&(i(0,"div",20),y(1,le,13,7,"div",54,F),o()),n&2){let t=d();a(),S(t.offers())}}function ce(n,e){n&1&&(i(0,"p",19),c(1,"No hay reglas configuradas."),o())}function de(n,e){if(n&1){let t=P();i(0,"div",23)(1,"input",70),O("ngModelChange",function(l){u(t);let s=d(3);return k(s.editRuleName,l)||(s.editRuleName=l),g(l)}),o(),i(2,"input",71),O("ngModelChange",function(l){u(t);let s=d(3);return k(s.editRuleKeywords,l)||(s.editRuleKeywords=l),g(l)}),o(),i(3,"button",72),p("click",function(){u(t);let l=d(3);return g(l.saveEditRule())}),m(4,"i",73),o(),i(5,"button",74),p("click",function(){u(t);let l=d(3);return g(l.cancelEditRule())}),m(6,"i",75),o()()}if(n&2){let t=d(3);a(),w("ngModel",t.editRuleName),a(),w("ngModel",t.editRuleKeywords)}}function me(n,e){if(n&1&&(i(0,"span",67),c(1),o()),n&2){let t=e.$implicit;a(),b(t)}}function pe(n,e){if(n&1){let t=P();i(0,"div",76)(1,"div",77)(2,"label",78)(3,"input",79),p("change",function(){u(t);let l=d().$implicit,s=d(2);return g(s.toggleRuleActive(l))}),o(),m(4,"span",80),o(),i(5,"strong",81),c(6),o()(),i(7,"div",62),y(8,me,2,1,"span",67,T),o()(),i(10,"div",82)(11,"button",83),p("click",function(){u(t);let l=d().$implicit,s=d(2);return g(s.startEditRule(l))}),m(12,"i",84),o(),i(13,"button",85),p("click",function(){u(t);let l=d().$implicit,s=d(2);return g(s.deleteRule(l.id))}),m(14,"i",86),o()()}if(n&2){let t=d().$implicit;a(3),M("checked",t.active),a(3),b(t.name),a(2),S(t.keywords)}}function ue(n,e){if(n&1&&(i(0,"div",69),C(1,de,7,2,"div",23)(2,pe,15,2),o()),n&2){let t=e.$implicit,r=d(2);x("rule-inactive",!t.active),a(),f(r.editingRuleId===t.id?1:2)}}function ge(n,e){if(n&1&&(i(0,"div",28),y(1,ue,3,3,"div",68,F),o()),n&2){let t=d();a(),S(t.rules())}}function fe(n,e){if(n&1){let t=P();i(0,"button",87),p("click",function(){let l=u(t).$implicit,s=d();return g(s.updateInterval(l.value))}),c(1),o()}if(n&2){let t=e.$implicit,r=d();x("interval-active",r.alertIntervalHours()===t.value),a(),v(" ",t.label," ")}}function _e(n,e){if(n&1){let t=P();i(0,"button",87),p("click",function(){let l=u(t).$implicit,s=d();return g(s.updateFilterLanguage(l.value))}),c(1),o()}if(n&2){let t=e.$implicit,r=d();x("interval-active",r.filterLanguage()===t.value),a(),v(" ",t.label," ")}}function be(n,e){if(n&1){let t=P();i(0,"li",88),p("click",function(){let l=u(t).$implicit,s=d();return s.updateFilterSource(l.value),g(s.filterSourceOpen.set(!1))}),c(1),o()}if(n&2){let t=e.$implicit,r=d();x("selected",r.filterSource()===t.value),a(),v(" ",t.label," ")}}function he(n,e){n&1&&(i(0,"p",19),c(1,"No hay stacks cargados."),o())}function Ce(n,e){if(n&1){let t=P();i(0,"div",90)(1,"input",91),O("ngModelChange",function(l){u(t);let s=d(3);return k(s.editSkillName,l)||(s.editSkillName=l),g(l)}),o(),i(2,"input",92),O("ngModelChange",function(l){u(t);let s=d(3);return k(s.editSkillCategory,l)||(s.editSkillCategory=l),g(l)}),o(),i(3,"div",93)(4,"button",72),p("click",function(){u(t);let l=d(3);return g(l.saveEditSkill())}),m(5,"i",73),o(),i(6,"button",74),p("click",function(){u(t);let l=d(3);return g(l.cancelEditSkill())}),m(7,"i",75),o()()()}if(n&2){let t=d(3);a(),w("ngModel",t.editSkillName),a(),w("ngModel",t.editSkillCategory)}}function ve(n,e){if(n&1&&(i(0,"span",96),c(1),o()),n&2){let t=d(2).$implicit;a(),b(t.category)}}function xe(n,e){if(n&1){let t=P();i(0,"div",94)(1,"span",95),c(2),o(),C(3,ve,2,1,"span",96),o(),i(4,"div",97)(5,"button",83),p("click",function(){u(t);let l=d().$implicit,s=d(2);return g(s.startEditSkill(l))}),m(6,"i",84),o(),i(7,"button",85),p("click",function(){u(t);let l=d().$implicit,s=d(2);return g(s.deleteSkill(l.id))}),m(8,"i",86),o()()}if(n&2){let t=d().$implicit;a(2),b(t.name),a(),f(t.category?3:-1)}}function ye(n,e){if(n&1&&(i(0,"div",89),C(1,Ce,8,2,"div",90)(2,xe,9,2),o()),n&2){let t=e.$implicit,r=d(2);a(),f(r.editingSkillId===t.id?1:2)}}function Se(n,e){if(n&1&&(i(0,"div",48),y(1,ye,3,1,"div",89,F),o()),n&2){let t=d();a(),S(t.skills())}}var U=class n{jobService=R(E);lastRun=_(null);offers=_([]);skills=_([]);rules=_([]);alertIntervalHours=_(24);filterCountry=_("");filterLanguage=_("");filterSource=_("");filterSourceOpen=_(!1);searching=_(!1);getFilterSourceLabel(){let e=this.filterSource(),t=this.sourceOptions.find(r=>r.value===e);return t?t.label:"Todas las fuentes"}updateFilterSource(e){this.filterSource.set(e),e=="Adzuna"?this.filterCountry.set("us"):e=="Jooble"?this.filterCountry.set("us"):this.filterCountry.set(""),this.saveSettings(),console.log(e),console.log(this.filterCountry())}sendingEmail=_(!1);searchMessage=_("");newSkillName="";newSkillCategory="";editingSkillId=null;editSkillName="";editSkillCategory="";newRuleName="";newRuleKeywords="";editingRuleId=null;editRuleName="";editRuleKeywords="";intervalOptions=[{label:"6 horas",value:6},{label:"12 horas",value:12},{label:"24 horas",value:24},{label:"48 horas",value:48}];languageOptions=[{value:"",label:"Sin filtro"},{value:"es",label:"Espa\xF1ol"},{value:"en",label:"Ingl\xE9s"},{value:"pt",label:"Portugu\xE9s"}];sourceOptions=[{value:"",label:"Todas las fuentes"},{value:"RemoteOK",label:"RemoteOK (Global)"},{value:"Adzuna",label:"Adzuna US"},{value:"Arbeitnow",label:"Arbeitnow (Europa/Remoto)"},{value:"Remotewx",label:"Remotewx (Remoto)"},{value:"Findwork",label:"Findwork (Dev)"},{value:"Jooble",label:"Jooble US"}];ngOnInit(){this.loadAll()}loadAll(){this.jobService.getLastRun().subscribe({next:e=>this.lastRun.set(e),error:()=>this.lastRun.set(null)}),this.jobService.listSkills().subscribe({next:e=>this.skills.set(e),error:()=>this.skills.set([])}),this.jobService.listRules().subscribe({next:e=>this.rules.set(e),error:()=>this.rules.set([])}),this.jobService.getSettings().subscribe({next:e=>{this.alertIntervalHours.set(e.alertIntervalHours),this.filterCountry.set(e.filterCountry||""),this.filterLanguage.set(e.filterLanguage||""),this.filterSource.set(e.filterSource||"")},error:()=>{}})}searchNow(){this.searching.set(!0),this.searchMessage.set(""),this.jobService.searchNow().subscribe({next:e=>{this.searching.set(!1),this.searchMessage.set(e.message),this.offers.set(e.offers),this.jobService.getLastRun().subscribe({next:t=>this.lastRun.set(t),error:()=>{}}),console.log(this.getSkillsNames)},error:e=>{this.searching.set(!1),this.searchMessage.set("Error al buscar ofertas: "+(e.error?.message||e.message||"Error desconocido"))}})}addSkill(){this.newSkillName.trim()&&this.jobService.createSkill({name:this.newSkillName.trim(),category:this.newSkillCategory.trim()||null}).subscribe({next:()=>{this.newSkillName="",this.newSkillCategory="",this.jobService.listSkills().subscribe(e=>this.skills.set(e))}})}startEditSkill(e){this.editingSkillId=e.id,this.editSkillName=e.name,this.editSkillCategory=e.category||""}saveEditSkill(){this.editingSkillId===null||!this.editSkillName.trim()||this.jobService.updateSkill(this.editingSkillId,{name:this.editSkillName.trim(),category:this.editSkillCategory.trim()||null}).subscribe({next:()=>{this.editingSkillId=null,this.jobService.listSkills().subscribe(e=>this.skills.set(e))}})}cancelEditSkill(){this.editingSkillId=null}deleteSkill(e){this.jobService.deleteSkill(e).subscribe({next:()=>this.jobService.listSkills().subscribe(t=>this.skills.set(t))})}addRule(){if(!this.newRuleName.trim()||!this.newRuleKeywords.trim())return;let e=this.newRuleKeywords.split(",").map(t=>t.trim()).filter(t=>t);e.length&&this.jobService.createRule({name:this.newRuleName.trim(),active:!0,keywords:e}).subscribe({next:()=>{this.newRuleName="",this.newRuleKeywords="",this.jobService.listRules().subscribe(t=>this.rules.set(t))}})}startEditRule(e){this.editingRuleId=e.id,this.editRuleName=e.name,this.editRuleKeywords=e.keywords.join(", ")}saveEditRule(){if(this.editingRuleId===null||!this.editRuleName.trim())return;let e=this.editRuleKeywords.split(",").map(r=>r.trim()).filter(r=>r);if(!e.length)return;let t=this.rules().find(r=>r.id===this.editingRuleId);this.jobService.updateRule(this.editingRuleId,{name:this.editRuleName.trim(),active:t?.active??!0,keywords:e}).subscribe({next:()=>{this.editingRuleId=null,this.jobService.listRules().subscribe(r=>this.rules.set(r))}})}cancelEditRule(){this.editingRuleId=null}toggleRuleActive(e){this.jobService.updateRule(e.id,{name:e.name,active:!e.active,keywords:e.keywords}).subscribe({next:()=>this.jobService.listRules().subscribe(t=>this.rules.set(t))})}deleteRule(e){this.jobService.deleteRule(e).subscribe({next:()=>this.jobService.listRules().subscribe(t=>this.rules.set(t))})}updateInterval(e){this.alertIntervalHours.set(e),this.saveSettings()}updateFilterCountry(e){this.filterCountry.set(e),this.saveSettings()}updateFilterLanguage(e){this.filterLanguage.set(e),this.saveSettings()}saveSettings(){this.jobService.updateSettings({alertIntervalHours:this.alertIntervalHours(),filterCountry:this.filterCountry()||void 0,filterLanguage:this.filterLanguage()||void 0,filterSource:this.filterSource()||void 0}).subscribe({next:e=>{this.alertIntervalHours.set(e.alertIntervalHours),this.filterCountry.set(e.filterCountry||""),this.filterLanguage.set(e.filterLanguage||""),this.filterSource.set(e.filterSource||"")}})}sendEmail(){this.sendingEmail.set(!0),this.searchMessage.set(""),this.jobService.sendEmail().subscribe({next:e=>{this.sendingEmail.set(!1),this.searchMessage.set(e.message)},error:e=>{this.sendingEmail.set(!1),this.searchMessage.set("Error al enviar email: "+(e.error?.message||e.message||"Error desconocido"))}})}formatDate(e){if(!e)return"\u2014";try{return new Date(e).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}timeSince(e){if(!e)return"";let t=new Date,r=new Date(e),l=t.getTime()-r.getTime(),s=Math.floor(l/6e4);if(s<1)return"hace un momento";if(s<60)return`hace ${s} min`;let D=Math.floor(s/60);return D<24?`hace ${D}h`:`hace ${Math.floor(D/24)}d`}elementRef=R(j);onDocumentClick(e){let t=e.target,l=this.elementRef.nativeElement.querySelector(".custom-select");l&&!l.contains(t)&&this.filterSourceOpen.set(!1)}getSkillsNames(){let e=this.skills().map(t=>t.name).join(", ");return console.log("Skills:",e),e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-dashboard-ofertas"]],hostBindings:function(t,r){t&1&&p("click",function(s){return r.onDocumentClick(s)},!1,z)},decls:98,vars:32,consts:[[1,"ofertas-page"],[1,"config-header"],[1,"config-header-inner"],[1,"config-header-titles"],[1,"config-title"],[1,"config-title-accent"],[1,"config-subtitle"],[1,"header-actions"],[1,"config-btn-primary","search-btn",3,"click","disabled"],[1,"fas"],[1,"config-btn-outline","search-btn",3,"click","disabled"],[1,"search-feedback","cyber-card"],[1,"config-grid"],[1,"config-main"],[1,"cyber-card","last-run-card"],[1,"cyber-card"],[1,"config-section-header"],[1,"fas","fa-briefcase","config-section-icon"],[1,"config-section-title"],[1,"empty-text"],[1,"offers-list"],[1,"fas","fa-bell","config-section-icon"],[1,"section-desc"],[1,"inline-form"],["placeholder","Nombre (ej: Java + Spring)",1,"config-input",3,"ngModelChange","ngModel"],["placeholder","Keywords separadas por coma",1,"config-input",3,"ngModelChange","ngModel"],[1,"config-btn-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-plus"],[1,"rules-list"],[1,"config-sidebar"],[1,"fas","fa-clock","config-section-icon"],[1,"interval-options"],[1,"interval-btn",3,"interval-active"],[1,"fas","fa-filter","config-section-icon"],[1,"filter-fields"],[1,"config-field"],[1,"config-label"],["placeholder","Ej: Argentina (vac\xEDo = sin filtro)",1,"config-input",3,"change","value"],[1,"custom-select",3,"click"],["type","button","aria-haspopup","listbox",1,"custom-select-trigger",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-down","custom-select-chevron"],["role","listbox",1,"custom-select-dropdown"],["role","option",3,"selected"],[1,"fas","fa-layer-group","config-section-icon"],[1,"skill-add-form"],["placeholder","Tecnolog\xEDa (ej: Angular)",1,"config-input",3,"ngModelChange","ngModel"],["placeholder","Categor\xEDa (opcional)",1,"config-input","skill-cat-input",3,"ngModelChange","ngModel"],[1,"config-btn-primary","btn-sm","btn-full",3,"click","disabled"],[1,"skills-list"],[1,"fas","fa-info-circle"],[1,"last-run-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"offer-card"],[1,"offer-header"],[1,"offer-title"],["target","_blank","rel","noopener",3,"href"],[1,"offer-source"],[1,"offer-meta"],[1,"offer-meta-item"],[1,"offer-meta-item","offer-salary"],[1,"offer-tags"],[1,"fas","fa-building"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-dollar-sign"],[1,"fas","fa-calendar"],[1,"offer-tag"],[1,"rule-item",3,"rule-inactive"],[1,"rule-item"],["placeholder","Nombre",1,"config-input",3,"ngModelChange","ngModel"],["placeholder","Keywords",1,"config-input",3,"ngModelChange","ngModel"],[1,"config-btn-primary","btn-sm",3,"click"],[1,"fas","fa-check"],[1,"config-btn-outline","btn-sm",3,"click"],[1,"fas","fa-times"],[1,"rule-content"],[1,"rule-header-row"],[1,"config-switch"],["type","checkbox",3,"change","checked"],[1,"config-switch-slider"],[1,"rule-name"],[1,"rule-actions"],["title","Editar",1,"btn-icon",3,"click"],[1,"fas","fa-pen"],["title","Eliminar",1,"btn-icon","btn-icon-danger",3,"click"],[1,"fas","fa-trash"],[1,"interval-btn",3,"click"],["role","option",3,"click"],[1,"skill-item"],[1,"skill-edit-form"],[1,"config-input",3,"ngModelChange","ngModel"],["placeholder","Categor\xEDa",1,"config-input","skill-cat-input",3,"ngModelChange","ngModel"],[1,"skill-edit-actions"],[1,"skill-content"],[1,"skill-name"],[1,"skill-category"],[1,"skill-actions"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"span",5),c(6,"Ofertas"),o(),c(7," laborales "),o(),i(8,"p",6),c(9,"Busca ofertas de trabajo que coincidan con tu perfil y recib\xED alertas por email."),o()(),i(10,"div",7)(11,"button",8),p("click",function(){return r.searchNow()}),m(12,"i",9),c(13),o(),i(14,"button",10),p("click",function(){return r.sendEmail()}),m(15,"i",9),c(16),o()()()(),C(17,Q,4,1,"div",11),i(18,"div",12)(19,"div",13),C(20,X,26,9,"div",14),i(21,"div",15)(22,"div",16),m(23,"i",17),i(24,"h2",18),c(25,"Ofertas recientes"),o()(),C(26,Y,2,0,"p",19)(27,se,3,0,"div",20),o(),i(28,"div",15)(29,"div",16),m(30,"i",21),i(31,"h2",18),c(32,"Reglas de alerta"),o()(),i(33,"p",22),c(34,"Defin\xED combinaciones de keywords (AND). Una oferta entra al email si matchea al menos una regla activa."),o(),i(35,"div",23)(36,"input",24),O("ngModelChange",function(s){return k(r.newRuleName,s)||(r.newRuleName=s),s}),o(),i(37,"input",25),O("ngModelChange",function(s){return k(r.newRuleKeywords,s)||(r.newRuleKeywords=s),s}),o(),i(38,"button",26),p("click",function(){return r.addRule()}),m(39,"i",27),c(40," Agregar "),o()(),C(41,ce,2,0,"p",19)(42,ge,3,0,"div",28),o()(),i(43,"div",29)(44,"div",15)(45,"div",16),m(46,"i",30),i(47,"h2",18),c(48,"Frecuencia"),o()(),i(49,"p",22),c(50,"\xBFCada cu\xE1nto buscamos ofertas y enviamos el digest por email?"),o(),i(51,"div",31),y(52,fe,2,3,"button",32,I),o()(),i(54,"div",15)(55,"div",16),m(56,"i",33),i(57,"h2",18),c(58,"Filtros"),o()(),i(59,"p",22),c(60,"Filtr\xE1 las ofertas por pa\xEDs e idioma."),o(),i(61,"div",34)(62,"div",35)(63,"label",36),c(64,"Pa\xEDs"),o(),i(65,"input",37),p("change",function(s){return r.updateFilterCountry(s.target.value)}),o()(),i(66,"div",35)(67,"label",36),c(68,"Idioma"),o(),i(69,"div",31),y(70,_e,2,3,"button",32,I),o()(),i(72,"div",35)(73,"label",36),c(74,"Fuente"),o(),i(75,"div",38),p("click",function(s){return s.stopPropagation()}),i(76,"button",39),p("click",function(){return r.filterSourceOpen.set(!r.filterSourceOpen())}),i(77,"span"),c(78),o(),m(79,"i",40),o(),i(80,"ul",41),y(81,be,2,3,"li",42,I),o()()()()(),i(83,"div",15)(84,"div",16),m(85,"i",43),i(86,"h2",18),c(87,"Mis stacks"),o()(),i(88,"p",22),c(89,"Tecnolog\xEDas que usamos como keywords para buscar ofertas."),o(),i(90,"div",44)(91,"input",45),O("ngModelChange",function(s){return k(r.newSkillName,s)||(r.newSkillName=s),s}),o(),i(92,"input",46),O("ngModelChange",function(s){return k(r.newSkillCategory,s)||(r.newSkillCategory=s),s}),o(),i(93,"button",47),p("click",function(){return r.addSkill()}),m(94,"i",27),c(95," Agregar "),o()(),C(96,he,2,0,"p",19)(97,Se,3,0,"div",48),o()()()()),t&2&&(a(11),M("disabled",r.searching()),a(),x("fa-search",!r.searching())("fa-spinner",r.searching())("fa-spin",r.searching()),a(),v(" ",r.searching()?"Buscando...":"Buscar ahora"," "),a(),M("disabled",r.sendingEmail()||r.offers().length===0),a(),x("fa-envelope",!r.sendingEmail())("fa-spinner",r.sendingEmail())("fa-spin",r.sendingEmail()),a(),v(" ",r.sendingEmail()?"Enviando...":"Enviar email"," "),a(),f(r.searchMessage()?17:-1),a(3),f(r.lastRun()?20:-1),a(6),f(r.offers().length===0?26:27),a(10),w("ngModel",r.newRuleName),a(),w("ngModel",r.newRuleKeywords),a(),M("disabled",!r.newRuleName.trim()||!r.newRuleKeywords.trim()),a(3),f(r.rules().length===0?41:42),a(11),S(r.intervalOptions),a(13),M("value",r.filterCountry()),a(5),S(r.languageOptions),a(5),x("open",r.filterSourceOpen()),a(),$("aria-expanded",r.filterSourceOpen()),a(2),b(r.getFilterSourceLabel()),a(3),S(r.sourceOptions),a(10),w("ngModel",r.newSkillName),a(),w("ngModel",r.newSkillCategory),a(),M("disabled",!r.newSkillName.trim()),a(3),f(r.skills().length===0?96:97))},dependencies:[W,q,B,K,H],styles:['.ofertas-page[_ngcontent-%COMP%]{padding:var(--spacing-xl);max-width:100%;margin:0 auto;color:var(--color-text-primary);background-color:var(--background-dark);min-height:100%}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.search-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;white-space:nowrap}.search-feedback[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:var(--spacing-xl);padding:1rem 1.25rem;color:var(--color-primary);font-size:.9rem;font-weight:600}.config-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:var(--spacing-xl)}@media (min-width: 1024px){.config-grid[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr}}.config-main[_ngcontent-%COMP%], .config-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xl)}.config-sidebar[_ngcontent-%COMP%]   .cyber-card[_ngcontent-%COMP%]{position:relative}.config-sidebar[_ngcontent-%COMP%]   .cyber-card[_ngcontent-%COMP%]:nth-child(1){z-index:30}.config-sidebar[_ngcontent-%COMP%]   .cyber-card[_ngcontent-%COMP%]:nth-child(2){z-index:20}.config-sidebar[_ngcontent-%COMP%]   .cyber-card[_ngcontent-%COMP%]:nth-child(3){z-index:10}.cyber-card[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--color-primary) 6%,var(--background-dark));-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid color-mix(in srgb,var(--color-primary) 12%,transparent);border-radius:.75rem;padding:1.5rem}@media (min-width: 1024px){.cyber-card[_ngcontent-%COMP%]{padding:2rem}}.config-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.config-header-inner[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:flex-end;gap:var(--spacing-lg)}.config-header-titles[_ngcontent-%COMP%]{flex:1;min-width:0}.config-title[_ngcontent-%COMP%]{font-size:clamp(1.75rem,4vw,2.25rem);font-weight:800;letter-spacing:-.02em;color:var(--color-text-primary);margin:0;display:flex;align-items:center;gap:.5rem}.config-title-accent[_ngcontent-%COMP%]{color:var(--color-primary)}.config-subtitle[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:1rem;margin:.5rem 0 0}.config-section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem}.config-section-icon[_ngcontent-%COMP%]{color:var(--color-primary);font-size:1.5rem}.config-section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em;color:var(--color-text-primary);margin:0}.section-desc[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-secondary);margin:-.5rem 0 1.25rem;line-height:1.5}.empty-text[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-style:italic;font-size:.875rem;margin:0}.last-run-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:1rem}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.75rem;background:color-mix(in srgb,var(--color-text-primary) 6%,transparent);border-radius:var(--border-radius-md)}.stat-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--color-text-primary)}.stat-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.08em;color:var(--color-text-secondary)}.offers-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;max-height:600px;overflow-y:auto}.offer-card[_ngcontent-%COMP%]{padding:1rem 1.25rem;background:color-mix(in srgb,var(--color-text-primary) 5%,transparent);border-radius:var(--border-radius-md);border-left:3px solid var(--color-primary);transition:background .15s}.offer-card[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary) 10%,transparent)}.offer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem;margin-bottom:.5rem}.offer-title[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;margin:0;color:var(--color-text-primary)}.offer-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;transition:opacity .15s}.offer-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8;text-decoration:underline}.offer-source[_ngcontent-%COMP%]{font-size:.65rem;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:var(--color-primary);background:var(--color-primary-light);padding:.2rem .5rem;border-radius:4px;white-space:nowrap}.offer-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:.5rem}.offer-meta-item[_ngcontent-%COMP%]{font-size:.8rem;color:var(--color-text-secondary);display:inline-flex;align-items:center;gap:.35rem}.offer-meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary);opacity:.7}.offer-salary[_ngcontent-%COMP%]{color:var(--color-primary)!important;font-weight:600}.offer-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.35rem;margin-top:.35rem}.offer-tag[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;padding:.15rem .5rem;border-radius:4px;background:color-mix(in srgb,var(--color-primary) 12%,transparent);color:var(--color-primary);text-transform:lowercase}.config-btn-primary[_ngcontent-%COMP%]{padding:.75rem 2rem;background:var(--color-primary);color:var(--color-primary-contrast, #0a0f0e);border:none;border-radius:var(--border-radius-md);font-weight:800;font-size:.875rem;text-transform:uppercase;letter-spacing:.03em;cursor:pointer;transition:background .2s,box-shadow .2s}.config-btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:color-mix(in srgb,var(--color-primary) 90%,white);box-shadow:0 0 20px color-mix(in srgb,var(--color-primary) 40%,transparent)}.config-btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.config-btn-outline[_ngcontent-%COMP%]{padding:.75rem 2rem;background:transparent;color:var(--color-primary);border:2px solid var(--color-primary);border-radius:var(--border-radius-md);font-weight:800;font-size:.875rem;text-transform:uppercase;cursor:pointer;transition:background .2s}.config-btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-primary-light)}.btn-sm[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.8rem}.btn-full[_ngcontent-%COMP%]{width:100%}.config-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:color-mix(in srgb,var(--color-text-primary) 8%,transparent);border:1px solid color-mix(in srgb,var(--color-text-primary) 25%,transparent);border-radius:var(--border-radius-md);color:var(--color-text-primary);font-size:.875rem;transition:border-color .2s,box-shadow .2s;box-sizing:border-box}.config-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-secondary)}.config-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px color-mix(in srgb,var(--color-primary) 25%,transparent)}.config-switch[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;cursor:pointer;flex-shrink:0}.config-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.config-switch-slider[_ngcontent-%COMP%]{position:relative;display:block;width:2.5rem;height:1.25rem;background:color-mix(in srgb,var(--color-text-primary) 20%,transparent);border-radius:9999px;transition:background .2s}.config-switch-slider[_ngcontent-%COMP%]:after{content:"";position:absolute;top:2px;left:2px;width:1rem;height:1rem;background:var(--color-text-primary);border-radius:50%;transition:transform .2s}.config-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .config-switch-slider[_ngcontent-%COMP%]{background:var(--color-primary)}.config-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .config-switch-slider[_ngcontent-%COMP%]:after{transform:translate(1.25rem)}.inline-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1.25rem}.inline-form[_ngcontent-%COMP%]   .config-input[_ngcontent-%COMP%]{flex:1;min-width:120px}.rules-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.rule-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.75rem 1rem;background:color-mix(in srgb,var(--color-text-primary) 5%,transparent);border-radius:var(--border-radius-md);transition:opacity .2s}.rule-inactive[_ngcontent-%COMP%]{opacity:.5}.rule-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.rule-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.rule-name[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-primary)}.rule-actions[_ngcontent-%COMP%]{display:flex;gap:.25rem;flex-shrink:0}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;color:var(--color-text-secondary);cursor:pointer;padding:.4rem;border-radius:var(--border-radius-md);transition:color .15s,background .15s;font-size:.8rem}.btn-icon[_ngcontent-%COMP%]:hover{color:var(--color-primary);background:color-mix(in srgb,var(--color-primary) 10%,transparent)}.btn-icon-danger[_ngcontent-%COMP%]:hover{color:#f87171;background:color-mix(in srgb,#ef4444 10%,transparent)}.skill-add-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1.25rem}.skill-cat-input[_ngcontent-%COMP%]{font-size:.8rem!important}.skills-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.skill-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem;padding:.5rem .75rem;background:color-mix(in srgb,var(--color-text-primary) 5%,transparent);border-radius:var(--border-radius-md)}.skill-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;min-width:0}.skill-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--color-text-primary)}.skill-category[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;padding:.1rem .4rem;border-radius:4px;background:color-mix(in srgb,var(--color-primary) 12%,transparent);color:var(--color-primary);text-transform:uppercase;letter-spacing:.05em}.skill-actions[_ngcontent-%COMP%]{display:flex;gap:.15rem;flex-shrink:0}.skill-edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem;width:100%}.skill-edit-actions[_ngcontent-%COMP%]{display:flex;gap:.35rem}.interval-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}.interval-btn[_ngcontent-%COMP%]{padding:.625rem;background:color-mix(in srgb,var(--color-text-primary) 8%,transparent);border:1px solid color-mix(in srgb,var(--color-text-primary) 20%,transparent);border-radius:var(--border-radius-md);color:var(--color-text-secondary);font-size:.8rem;font-weight:600;cursor:pointer;transition:all .15s;text-align:center}.interval-btn[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);color:var(--color-primary)}.interval-active[_ngcontent-%COMP%]{background:var(--color-primary-light)!important;border-color:var(--color-primary)!important;color:var(--color-primary)!important;font-weight:800}.offers-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.offers-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.offers-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:color-mix(in srgb,var(--color-primary) 30%,transparent);border-radius:4px}@media (max-width: 768px){.ofertas-page[_ngcontent-%COMP%]{padding:var(--spacing-md)}.config-header-inner[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.inline-form[_ngcontent-%COMP%]{flex-direction:column}.inline-form[_ngcontent-%COMP%]   .last-run-stats[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.inline-form[_ngcontent-%COMP%]   .config-input[_ngcontent-%COMP%]{min-width:unset}.custom-select[_ngcontent-%COMP%]{position:relative;width:100%}.custom-select-trigger[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;background:color-mix(in srgb,var(--color-text-primary) 8%,transparent);border:1px solid color-mix(in srgb,var(--color-text-primary) 25%,transparent);border-radius:var(--border-radius-md);color:var(--color-text-primary);font-size:.875rem;font-weight:500;font-family:inherit;cursor:pointer;transition:border-color .2s,box-shadow .2s;text-align:left}.custom-select.open[_ngcontent-%COMP%]   .custom-select-trigger[_ngcontent-%COMP%], .custom-select-trigger[_ngcontent-%COMP%]:focus{border-color:var(--color-primary);box-shadow:0 0 0 2px color-mix(in srgb,var(--color-primary) 25%,transparent);outline:none}.custom-select-trigger[_ngcontent-%COMP%]:hover{border-color:var(--color-primary)}.custom-select-chevron[_ngcontent-%COMP%]{font-size:.75rem;transition:transform .2s;color:var(--color-text-secondary)}.custom-select.open[_ngcontent-%COMP%]   .custom-select-chevron[_ngcontent-%COMP%]{transform:rotate(180deg)}.custom-select-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 4px);left:0;right:0;margin:0;padding:.25rem 0;list-style:none;background:color-mix(in srgb,var(--color-primary) 8%,var(--background-dark));border:1px solid color-mix(in srgb,var(--color-primary) 12%,transparent);border-radius:var(--border-radius-md);box-shadow:0 8px 24px #00000080;max-height:200px;overflow-y:auto;z-index:100;display:none}.custom-select.open[_ngcontent-%COMP%]   .custom-select-dropdown[_ngcontent-%COMP%]{display:block}.custom-select-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:.875rem;color:var(--color-text-primary);cursor:pointer;transition:background .15s}.custom-select-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .custom-select-dropdown[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background:var(--color-primary-light);color:var(--color-primary)}']})};export{U as DashboardOfertasComponent};
